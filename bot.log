 2025-07-24 15:20:34,872 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:20:45,112 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:20:55,351 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:21:05,494 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:21:15,731 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:21:25,876 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:21:36,111 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:21:37,950 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:21:37,955 - __main__ - INFO - [CALLBACK] Received from 5462740970: lang_nepali
2025-07-24 15:21:38,770 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 15:21:38,771 - __main__ - INFO - üåê LANGUAGE SET: User 5462740970 ‚Üí nepali
2025-07-24 15:21:39,180 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 15:21:40,681 - __main__ - INFO - [USER] New conversation started by user 5462740970
2025-07-24 15:21:41,104 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 15:21:48,100 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:21:58,330 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:22:08,570 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:22:18,721 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:22:28,875 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:22:39,041 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:22:49,325 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:22:59,564 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:23:09,804 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:23:19,949 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:23:30,094 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:23:40,238 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:23:50,457 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:24:00,601 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:24:10,745 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:24:20,886 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:24:31,109 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:24:41,351 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:24:51,588 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:25:01,830 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:25:12,071 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:25:22,310 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:25:32,958 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:25:43,133 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:25:53,336 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:26:03,579 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:26:13,724 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:26:23,888 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:26:34,033 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:26:44,194 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:26:54,360 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:27:04,512 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:27:14,747 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:27:24,897 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:27:35,045 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:27:45,195 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:27:55,343 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:28:05,537 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:28:15,692 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:28:25,902 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:28:36,155 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:28:46,354 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:28:56,530 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:29:06,688 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:29:16,909 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:29:27,066 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:29:37,294 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:29:47,449 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:29:57,665 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:30:07,816 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:30:17,961 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:30:28,105 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:30:38,251 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:30:48,398 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:30:58,594 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:31:08,824 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:31:19,074 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:31:29,472 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:31:39,618 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:31:49,774 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:31:59,926 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:32:10,070 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:32:20,217 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:32:30,359 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:32:40,504 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:32:50,647 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:33:00,795 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:33:10,957 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:33:21,101 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:33:31,248 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:33:41,390 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:33:51,546 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:34:01,787 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:34:12,027 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:34:22,266 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:34:32,411 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:34:42,600 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:34:52,743 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:35:02,901 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:35:13,066 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:35:23,212 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:35:33,361 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:35:43,505 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:35:53,651 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:36:03,812 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:36:13,960 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:36:24,119 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:36:34,265 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:36:44,437 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:36:54,588 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:37:04,734 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:37:14,886 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:37:25,028 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:37:35,172 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:37:45,319 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:37:55,473 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:38:05,631 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:38:15,777 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:38:25,928 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:38:36,074 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:38:42,360 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:38:42,365 - __main__ - INFO - [MSG] User 5462740970: Hello
2025-07-24 15:38:42,366 - __main__ - INFO - üîç [LLM] Language Detection Prompt: Analyze this text and determine if it's English, Hindi, or Nepali.
            
            Text to analyze: "Hello"
            
            CRITICAL DETECTION RULES:
            
            HINDI INDICATORS (Romanized):
            - Key words: mereko, mujhe, main, aap, tum, karna, chahiye, hai, hain
            - Grammar: verb + hain/hai (karna hain, chahiye hai)
            - Pronouns: mereko, mujhe, main, aap, tum
            - Question words: kya, kaise, kahan, kab, kyun, kaun
            
            NEPALI INDICATORS (Romanized):
            - Key words: malai, ma, tapai, timi, garna, chahincha, chha, hun
            - Grammar: verb + chha/chhan (garna chha, chahincha)
            - Pronouns: malai, ma, tapai, timi
            - Question words: ke, kasari, kahaan, kahile, kina, ko
            
            ENGLISH INDICATORS:
            - Pure English vocabulary and grammar
            - No Hindi/Nepali words mixed in
            
            DECISION RULES:
            1. If text contains "mereko", "mujhe", "karna hain", "chahiye" ‚Üí HINDI
            2. If text contains "malai", "garna chha", "chahincha" ‚Üí NEPALI
            3. If text is pure English ‚Üí ENGLISH
            4. For mixed text, identify the dominant language based on grammar patterns
            
            Examples:
            - "Mereko ex gratia apply karna hain" ‚Üí HINDI (mereko + karna hain)
            - "Malai certificate apply garna chha" ‚Üí NEPALI (malai + garna chha)
            - "I want to apply for ex gratia" ‚Üí ENGLISH (pure English)
            
            Respond with EXACTLY one word: english, hindi, or nepali
2025-07-24 15:38:45,076 - __main__ - INFO - ü§ñ [LLM] Language Detection Response: english
2025-07-24 15:38:45,077 - __main__ - INFO - ‚úÖ Language detected by Qwen: english
2025-07-24 15:38:45,077 - __main__ - INFO - üåê LANGUAGE SET: User 5462740970 ‚Üí english
2025-07-24 15:38:45,077 - __main__ - INFO - [LANG] User 5462740970 language detected: english
2025-07-24 15:38:45,078 - __main__ - INFO - [INTENT] Processing new message: Hello
2025-07-24 15:38:45,079 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Hello
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 15:38:45,429 - __main__ - INFO - üéØ [LLM] Intent Classification Response: greeting
2025-07-24 15:38:45,429 - __main__ - INFO - [INTENT] Detected intent: greeting
2025-07-24 15:38:46,149 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 15:38:46,150 - google_sheets_service - ERROR - ‚ùå Google Sheets service not initialized
2025-07-24 15:38:50,657 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:38:50,661 - __main__ - INFO - [CALLBACK] Received from 5462740970: lang_english
2025-07-24 15:38:50,973 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 15:38:50,974 - __main__ - INFO - üåê LANGUAGE SET: User 5462740970 ‚Üí english
2025-07-24 15:38:51,291 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 15:38:52,805 - __main__ - INFO - [USER] New conversation started by user 5462740970
2025-07-24 15:38:53,129 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 15:39:00,807 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:39:10,952 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:39:21,096 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:39:28,745 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:39:28,748 - __main__ - INFO - [CALLBACK] Received from 5462740970: complaint
2025-07-24 15:39:29,327 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 15:39:29,329 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'complaint', 'step': 'name'}
2025-07-24 15:39:29,728 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 15:39:34,196 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:39:34,200 - __main__ - INFO - [MSG] User 5462740970: Ghi
2025-07-24 15:39:34,201 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 15:39:34,201 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'complaint', 'step': 'mobile', 'telegram_username': 'Abhishek', 'entered_name': 'Ghi', 'name': 'Ghi (@Abhishek)'}
2025-07-24 15:39:34,531 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 15:39:42,526 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:39:42,529 - __main__ - INFO - [MSG] User 5462740970: 8888888888
2025-07-24 15:39:42,530 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 15:39:42,531 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'complaint', 'step': 'complaint', 'telegram_username': 'Abhishek', 'entered_name': 'Ghi', 'name': 'Ghi (@Abhishek)', 'mobile': '8888888888'}
2025-07-24 15:39:43,242 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 15:39:47,154 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:39:47,159 - __main__ - INFO - [MSG] User 5462740970: Hdhysgdjdidn
2025-07-24 15:39:47,160 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 15:39:47,506 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 15:39:47,508 - google_sheets_service - ERROR - ‚ùå Google Sheets service not initialized
2025-07-24 15:39:47,509 - __main__ - INFO - üßπ STATE CLEARED: User 5462740970
2025-07-24 15:40:01,134 - __main__ - INFO - üìö Data files loaded successfully
2025-07-24 15:40:01,134 - google_sheets_service - ERROR - Credentials file not found: credentials.json
2025-07-24 15:40:01,134 - google_sheets_service - INFO - Please download credentials.json from Google Cloud Console
2025-07-24 15:40:01,134 - __main__ - INFO - ‚úÖ Google Sheets service initialized successfully
2025-07-24 15:40:01,134 - __main__ - INFO - üîí MULTI-USER SUPPORT: Thread-safe state management initialized
2025-07-24 15:40:01,741 - __main__ - INFO - üöÄ Starting Enhanced SmartGov Assistant Bot...
2025-07-24 15:40:02,226 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getMe "HTTP/1.1 200 OK"
2025-07-24 15:40:02,368 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/deleteWebhook "HTTP/1.1 200 OK"
2025-07-24 15:40:02,371 - telegram.ext.Application - INFO - Application started
2025-07-24 15:40:12,779 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:40:22,914 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:40:33,051 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:40:33,731 - comprehensive_smartgov_bot - INFO - üìö Data files loaded successfully
2025-07-24 15:40:33,731 - google_sheets_service - ERROR - Credentials file not found: credentials.json
2025-07-24 15:40:33,732 - google_sheets_service - INFO - Please download credentials.json from Google Cloud Console
2025-07-24 15:40:33,732 - comprehensive_smartgov_bot - INFO - ‚úÖ Google Sheets service initialized successfully
2025-07-24 15:40:33,733 - comprehensive_smartgov_bot - INFO - üîí MULTI-USER SUPPORT: Thread-safe state management initialized
2025-07-24 15:40:43,185 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:40:53,327 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:41:03,484 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:41:13,618 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:41:23,757 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:41:33,906 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:41:44,043 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:41:54,186 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:42:04,322 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:42:14,460 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:42:26,539 - __main__ - INFO - üìö Data files loaded successfully
2025-07-24 15:42:26,540 - google_sheets_service - ERROR - Credentials file not found: credentials.json
2025-07-24 15:42:26,541 - google_sheets_service - INFO - Please download credentials.json from Google Cloud Console
2025-07-24 15:42:26,541 - __main__ - INFO - ‚úÖ Google Sheets service initialized successfully
2025-07-24 15:42:26,542 - __main__ - INFO - üîí MULTI-USER SUPPORT: Thread-safe state management initialized
2025-07-24 15:42:27,492 - __main__ - INFO - üöÄ Starting Enhanced SmartGov Assistant Bot...
2025-07-24 15:42:27,947 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getMe "HTTP/1.1 200 OK"
2025-07-24 15:42:28,087 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/deleteWebhook "HTTP/1.1 200 OK"
2025-07-24 15:42:28,091 - telegram.ext.Application - INFO - Application started
2025-07-24 15:42:38,547 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:42:44,811 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:42:44,814 - __main__ - INFO - [MSG] User 5462740970: Hello
2025-07-24 15:42:44,816 - __main__ - INFO - üîç [LLM] Language Detection Prompt: Analyze this text and determine if it's English, Hindi, or Nepali.
            
            Text to analyze: "Hello"
            
            CRITICAL DETECTION RULES:
            
            HINDI INDICATORS (Romanized):
            - Key words: mereko, mujhe, main, aap, tum, karna, chahiye, hai, hain
            - Grammar: verb + hain/hai (karna hain, chahiye hai)
            - Pronouns: mereko, mujhe, main, aap, tum
            - Question words: kya, kaise, kahan, kab, kyun, kaun
            
            NEPALI INDICATORS (Romanized):
            - Key words: malai, ma, tapai, timi, garna, chahincha, chha, hun
            - Grammar: verb + chha/chhan (garna chha, chahincha)
            - Pronouns: malai, ma, tapai, timi
            - Question words: ke, kasari, kahaan, kahile, kina, ko
            
            ENGLISH INDICATORS:
            - Pure English vocabulary and grammar
            - No Hindi/Nepali words mixed in
            
            DECISION RULES:
            1. If text contains "mereko", "mujhe", "karna hain", "chahiye" ‚Üí HINDI
            2. If text contains "malai", "garna chha", "chahincha" ‚Üí NEPALI
            3. If text is pure English ‚Üí ENGLISH
            4. For mixed text, identify the dominant language based on grammar patterns
            
            Examples:
            - "Mereko ex gratia apply karna hain" ‚Üí HINDI (mereko + karna hain)
            - "Malai certificate apply garna chha" ‚Üí NEPALI (malai + garna chha)
            - "I want to apply for ex gratia" ‚Üí ENGLISH (pure English)
            
            Respond with EXACTLY one word: english, hindi, or nepali
2025-07-24 15:42:47,604 - __main__ - INFO - ü§ñ [LLM] Language Detection Response: english
2025-07-24 15:42:47,604 - __main__ - INFO - ‚úÖ Language detected by Qwen: english
2025-07-24 15:42:47,606 - __main__ - INFO - üåê LANGUAGE SET: User 5462740970 ‚Üí english
2025-07-24 15:42:47,607 - __main__ - INFO - [LANG] User 5462740970 language detected: english
2025-07-24 15:42:47,608 - __main__ - INFO - [INTENT] Processing new message: Hello
2025-07-24 15:42:47,608 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Hello
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 15:42:48,001 - __main__ - INFO - üéØ [LLM] Intent Classification Response: greeting
2025-07-24 15:42:48,002 - __main__ - INFO - [INTENT] Detected intent: greeting
2025-07-24 15:42:48,628 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 15:42:48,630 - google_sheets_service - ERROR - ‚ùå Google Sheets service not initialized
2025-07-24 15:42:52,437 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:42:52,441 - __main__ - INFO - [CALLBACK] Received from 5462740970: lang_english
2025-07-24 15:42:52,747 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 15:42:52,748 - __main__ - INFO - üåê LANGUAGE SET: User 5462740970 ‚Üí english
2025-07-24 15:42:53,065 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 15:42:53,816 - comprehensive_smartgov_bot - INFO - üìö Data files loaded successfully
2025-07-24 15:42:53,817 - google_sheets_service - ERROR - Credentials file not found: credentials.json
2025-07-24 15:42:53,818 - google_sheets_service - INFO - Please download credentials.json from Google Cloud Console
2025-07-24 15:42:53,818 - comprehensive_smartgov_bot - INFO - ‚úÖ Google Sheets service initialized successfully
2025-07-24 15:42:53,819 - comprehensive_smartgov_bot - INFO - üîí MULTI-USER SUPPORT: Thread-safe state management initialized
2025-07-24 15:42:54,577 - __main__ - INFO - [USER] New conversation started by user 5462740970
2025-07-24 15:42:54,910 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 15:42:58,981 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:42:58,985 - __main__ - INFO - [CALLBACK] Received from 5462740970: complaint
2025-07-24 15:42:59,354 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 15:42:59,354 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'location_request', 'service_type': 'complaint', 'stage': 'waiting_location'}
2025-07-24 15:42:59,673 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 15:43:00,010 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 15:43:00,011 - google_sheets_service - ERROR - ‚ùå Google Sheets service not initialized
2025-07-24 15:43:07,861 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:43:18,011 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:43:28,162 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:43:38,312 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:43:48,470 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:43:58,626 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:44:08,782 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:44:18,936 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:44:29,086 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:44:39,243 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:44:43,816 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:44:43,818 - __main__ - INFO - [MSG] User 5462740970: Hello
2025-07-24 15:44:43,820 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 15:44:44,467 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 15:44:53,969 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:45:04,123 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:45:14,275 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:45:24,431 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:45:37,318 - __main__ - INFO - üìö Data files loaded successfully
2025-07-24 15:45:37,318 - __main__ - WARNING - ‚ö†Ô∏è Google Sheets integration disabled or credentials file not configured
2025-07-24 15:45:37,318 - __main__ - INFO - üîí MULTI-USER SUPPORT: Thread-safe state management initialized
2025-07-24 15:45:37,938 - __main__ - INFO - üöÄ Starting Enhanced SmartGov Assistant Bot...
2025-07-24 15:45:38,409 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getMe "HTTP/1.1 200 OK"
2025-07-24 15:45:38,565 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/deleteWebhook "HTTP/1.1 200 OK"
2025-07-24 15:45:38,567 - telegram.ext.Application - INFO - Application started
2025-07-24 15:45:49,001 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:45:59,147 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:46:00,710 - comprehensive_smartgov_bot - INFO - üìö Data files loaded successfully
2025-07-24 15:46:00,710 - comprehensive_smartgov_bot - WARNING - ‚ö†Ô∏è Google Sheets integration disabled or credentials file not configured
2025-07-24 15:46:00,711 - comprehensive_smartgov_bot - INFO - üîí MULTI-USER SUPPORT: Thread-safe state management initialized
2025-07-24 15:46:00,713 - comprehensive_smartgov_bot - INFO - üîí STATE UPDATE: User 12345 ‚Üí {'workflow': 'complaint', 'step': 'name'}
2025-07-24 15:46:00,714 - comprehensive_smartgov_bot - INFO - üßπ STATE CLEARED: User 12345
2025-07-24 15:46:09,297 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:46:19,447 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:46:26,096 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:46:26,099 - __main__ - INFO - [MSG] User 5462740970: Cancel
2025-07-24 15:46:26,100 - __main__ - INFO - üîç [LLM] Language Detection Prompt: Analyze this text and determine if it's English, Hindi, or Nepali.
            
            Text to analyze: "Cancel"
            
            CRITICAL DETECTION RULES:
            
            HINDI INDICATORS (Romanized):
            - Key words: mereko, mujhe, main, aap, tum, karna, chahiye, hai, hain
            - Grammar: verb + hain/hai (karna hain, chahiye hai)
            - Pronouns: mereko, mujhe, main, aap, tum
            - Question words: kya, kaise, kahan, kab, kyun, kaun
            
            NEPALI INDICATORS (Romanized):
            - Key words: malai, ma, tapai, timi, garna, chahincha, chha, hun
            - Grammar: verb + chha/chhan (garna chha, chahincha)
            - Pronouns: malai, ma, tapai, timi
            - Question words: ke, kasari, kahaan, kahile, kina, ko
            
            ENGLISH INDICATORS:
            - Pure English vocabulary and grammar
            - No Hindi/Nepali words mixed in
            
            DECISION RULES:
            1. If text contains "mereko", "mujhe", "karna hain", "chahiye" ‚Üí HINDI
            2. If text contains "malai", "garna chha", "chahincha" ‚Üí NEPALI
            3. If text is pure English ‚Üí ENGLISH
            4. For mixed text, identify the dominant language based on grammar patterns
            
            Examples:
            - "Mereko ex gratia apply karna hain" ‚Üí HINDI (mereko + karna hain)
            - "Malai certificate apply garna chha" ‚Üí NEPALI (malai + garna chha)
            - "I want to apply for ex gratia" ‚Üí ENGLISH (pure English)
            
            Respond with EXACTLY one word: english, hindi, or nepali
2025-07-24 15:46:28,941 - __main__ - INFO - ü§ñ [LLM] Language Detection Response: english
2025-07-24 15:46:28,941 - __main__ - INFO - ‚úÖ Language detected by Qwen: english
2025-07-24 15:46:28,941 - __main__ - INFO - üåê LANGUAGE SET: User 5462740970 ‚Üí english
2025-07-24 15:46:28,941 - __main__ - INFO - [LANG] User 5462740970 language detected: english
2025-07-24 15:46:28,941 - __main__ - INFO - [INTENT] Processing new message: Cancel
2025-07-24 15:46:28,941 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Cancel
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 15:46:29,256 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 15:46:29,257 - __main__ - INFO - [INTENT] Detected intent: unknown
2025-07-24 15:46:29,257 - __main__ - INFO - [USER] New conversation started by user 5462740970
2025-07-24 15:46:29,899 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 15:46:39,242 - __main__ - INFO - üìö Data files loaded successfully
2025-07-24 15:46:39,243 - __main__ - WARNING - ‚ö†Ô∏è Google Sheets integration disabled or credentials file not configured
2025-07-24 15:46:39,243 - __main__ - INFO - üîí MULTI-USER SUPPORT: Thread-safe state management initialized
2025-07-24 15:46:40,028 - __main__ - INFO - üöÄ Starting Enhanced SmartGov Assistant Bot...
2025-07-24 15:46:40,483 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getMe "HTTP/1.1 200 OK"
2025-07-24 15:46:40,629 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/deleteWebhook "HTTP/1.1 200 OK"
2025-07-24 15:46:40,630 - telegram.ext.Application - INFO - Application started
2025-07-24 15:46:41,039 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:46:41,042 - __main__ - INFO - [CALLBACK] Received from 5462740970: complaint
2025-07-24 15:46:41,349 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 15:46:41,351 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'location_request', 'service_type': 'complaint', 'stage': 'waiting_location'}
2025-07-24 15:46:41,672 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 15:46:42,045 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 15:46:46,406 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:46:51,092 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:47:01,227 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:47:11,364 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:47:21,501 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:47:31,643 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:47:41,785 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:47:51,920 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:48:02,063 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:48:12,216 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:48:22,356 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:48:38,608 - __main__ - INFO - üìö Data files loaded successfully
2025-07-24 15:48:38,609 - __main__ - WARNING - ‚ö†Ô∏è Google Sheets integration disabled or credentials file not configured
2025-07-24 15:48:38,610 - __main__ - INFO - üîí MULTI-USER SUPPORT: Thread-safe state management initialized
2025-07-24 15:48:39,268 - __main__ - INFO - üöÄ Starting Enhanced SmartGov Assistant Bot...
2025-07-24 15:48:39,722 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getMe "HTTP/1.1 200 OK"
2025-07-24 15:48:39,871 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/deleteWebhook "HTTP/1.1 200 OK"
2025-07-24 15:48:39,877 - telegram.ext.Application - INFO - Application started
2025-07-24 15:48:50,316 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:49:00,461 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:49:04,037 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:49:04,040 - __main__ - INFO - [MSG] User 5462740970: ‚ùå Cancel
2025-07-24 15:49:04,040 - __main__ - INFO - [USER] New conversation started by user 5462740970
2025-07-24 15:49:04,661 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 15:49:07,739 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:49:07,741 - __main__ - INFO - [CALLBACK] Received from 5462740970: complaint
2025-07-24 15:49:08,056 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 15:49:08,059 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'location_request', 'service_type': 'complaint', 'stage': 'waiting_location'}
2025-07-24 15:49:08,374 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 15:49:08,704 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 15:49:11,088 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:49:18,936 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:49:29,084 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:49:39,230 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:49:49,380 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:49:59,527 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:50:09,676 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:50:19,820 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:51:31,684 - __main__ - INFO - üìö Data files loaded successfully
2025-07-24 15:51:31,685 - __main__ - WARNING - ‚ö†Ô∏è Google Sheets integration disabled or credentials file not configured
2025-07-24 15:51:31,685 - __main__ - INFO - üîí MULTI-USER SUPPORT: Thread-safe state management initialized
2025-07-24 15:51:32,279 - __main__ - INFO - üöÄ Starting Enhanced SmartGov Assistant Bot...
2025-07-24 15:51:32,737 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getMe "HTTP/1.1 200 OK"
2025-07-24 15:51:32,884 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/deleteWebhook "HTTP/1.1 200 OK"
2025-07-24 15:51:32,890 - telegram.ext.Application - INFO - Application started
2025-07-24 15:51:37,647 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:51:37,649 - __main__ - INFO - [MSG] User 5462740970: Hello
2025-07-24 15:51:37,650 - __main__ - INFO - üîç [LLM] Language Detection Prompt: Analyze this text and determine if it's English, Hindi, or Nepali.
            
            Text to analyze: "Hello"
            
            CRITICAL DETECTION RULES:
            
            HINDI INDICATORS (Romanized):
            - Key words: mereko, mujhe, main, aap, tum, karna, chahiye, hai, hain
            - Grammar: verb + hain/hai (karna hain, chahiye hai)
            - Pronouns: mereko, mujhe, main, aap, tum
            - Question words: kya, kaise, kahan, kab, kyun, kaun
            
            NEPALI INDICATORS (Romanized):
            - Key words: malai, ma, tapai, timi, garna, chahincha, chha, hun
            - Grammar: verb + chha/chhan (garna chha, chahincha)
            - Pronouns: malai, ma, tapai, timi
            - Question words: ke, kasari, kahaan, kahile, kina, ko
            
            ENGLISH INDICATORS:
            - Pure English vocabulary and grammar
            - No Hindi/Nepali words mixed in
            
            DECISION RULES:
            1. If text contains "mereko", "mujhe", "karna hain", "chahiye" ‚Üí HINDI
            2. If text contains "malai", "garna chha", "chahincha" ‚Üí NEPALI
            3. If text is pure English ‚Üí ENGLISH
            4. For mixed text, identify the dominant language based on grammar patterns
            
            Examples:
            - "Mereko ex gratia apply karna hain" ‚Üí HINDI (mereko + karna hain)
            - "Malai certificate apply garna chha" ‚Üí NEPALI (malai + garna chha)
            - "I want to apply for ex gratia" ‚Üí ENGLISH (pure English)
            
            Respond with EXACTLY one word: english, hindi, or nepali
2025-07-24 15:51:43,597 - __main__ - INFO - ü§ñ [LLM] Language Detection Response: english
2025-07-24 15:51:43,597 - __main__ - INFO - ‚úÖ Language detected by Qwen: english
2025-07-24 15:51:43,597 - __main__ - INFO - üåê LANGUAGE SET: User 5462740970 ‚Üí english
2025-07-24 15:51:43,597 - __main__ - INFO - [LANG] User 5462740970 language detected: english
2025-07-24 15:51:43,597 - __main__ - INFO - [INTENT] Processing new message: Hello
2025-07-24 15:51:43,599 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Hello
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 15:51:44,028 - __main__ - INFO - üéØ [LLM] Intent Classification Response: greeting
2025-07-24 15:51:44,029 - __main__ - INFO - [INTENT] Detected intent: greeting
2025-07-24 15:51:44,759 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 15:51:47,215 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:51:47,219 - __main__ - INFO - [CALLBACK] Received from 5462740970: lang_english
2025-07-24 15:51:47,552 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 15:51:47,554 - __main__ - INFO - üåê LANGUAGE SET: User 5462740970 ‚Üí english
2025-07-24 15:51:47,877 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 15:51:49,381 - __main__ - INFO - [USER] New conversation started by user 5462740970
2025-07-24 15:51:49,712 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 15:51:57,366 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:52:00,628 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:52:00,631 - __main__ - INFO - [CALLBACK] Received from 5462740970: complaint
2025-07-24 15:52:01,214 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 15:52:01,216 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'location_request', 'service_type': 'complaint', 'stage': 'waiting_location'}
2025-07-24 15:52:01,727 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 15:52:02,055 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 15:52:04,922 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:52:15,075 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:52:25,227 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:53:16,207 - __main__ - INFO - üìö Data files loaded successfully
2025-07-24 15:53:16,207 - __main__ - WARNING - ‚ö†Ô∏è Google Sheets integration disabled or credentials file not configured
2025-07-24 15:53:16,209 - __main__ - INFO - üîí MULTI-USER SUPPORT: Thread-safe state management initialized
2025-07-24 15:53:16,961 - __main__ - INFO - üöÄ Starting Enhanced SmartGov Assistant Bot...
2025-07-24 15:53:17,405 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getMe "HTTP/1.1 200 OK"
2025-07-24 15:53:17,545 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/deleteWebhook "HTTP/1.1 200 OK"
2025-07-24 15:53:17,549 - telegram.ext.Application - INFO - Application started
2025-07-24 15:53:27,975 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:53:38,118 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:53:48,264 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:53:58,411 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:54:08,563 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:54:18,709 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:54:28,858 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:54:39,975 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:54:50,118 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:54:50,912 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:54:50,914 - __main__ - INFO - [MSG] User 5462740970: ‚ùå Cancel
2025-07-24 15:54:50,914 - __main__ - INFO - [USER] New conversation started by user 5462740970
2025-07-24 15:54:51,580 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 15:54:54,387 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:54:54,389 - __main__ - INFO - [CALLBACK] Received from 5462740970: complaint
2025-07-24 15:54:54,751 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 15:54:54,753 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'location_request', 'service_type': 'complaint', 'stage': 'waiting_location'}
2025-07-24 15:54:55,072 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 15:54:55,392 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 15:54:57,662 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:55:07,802 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:55:17,944 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:55:28,085 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:55:38,226 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:55:48,367 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:55:58,511 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:56:08,653 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:56:18,802 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:56:42,327 - __main__ - INFO - üìö Data files loaded successfully
2025-07-24 15:56:42,328 - __main__ - WARNING - ‚ö†Ô∏è Google Sheets integration disabled or credentials file not configured
2025-07-24 15:56:42,328 - __main__ - INFO - üîí MULTI-USER SUPPORT: Thread-safe state management initialized
2025-07-24 15:56:43,024 - __main__ - INFO - üöÄ Starting Enhanced SmartGov Assistant Bot...
2025-07-24 15:56:43,514 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getMe "HTTP/1.1 200 OK"
2025-07-24 15:56:43,659 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/deleteWebhook "HTTP/1.1 200 OK"
2025-07-24 15:56:43,663 - telegram.ext.Application - INFO - Application started
2025-07-24 15:56:54,083 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:57:04,226 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:57:14,382 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:57:24,528 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:57:34,685 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:57:36,906 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:57:36,909 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 15:57:36,909 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 15:57:36,910 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 15:57:36,910 - __main__ - INFO - [MSG] User 5462740970: ‚ùå Cancel
2025-07-24 15:57:36,910 - __main__ - INFO - [USER] New conversation started by user 5462740970
2025-07-24 15:57:37,527 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 15:57:39,949 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:57:39,952 - __main__ - INFO - [CALLBACK] Received from 5462740970: complaint
2025-07-24 15:57:40,262 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 15:57:40,263 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'location_request', 'service_type': 'complaint', 'stage': 'waiting_location'}
2025-07-24 15:57:40,588 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 15:57:40,925 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 15:57:43,580 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:57:53,725 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:58:03,868 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:58:14,018 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:58:24,198 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:58:34,357 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:58:44,502 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:58:54,647 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:59:12,999 - __main__ - INFO - üìö Data files loaded successfully
2025-07-24 15:59:13,000 - __main__ - WARNING - ‚ö†Ô∏è Google Sheets integration disabled or credentials file not configured
2025-07-24 15:59:13,000 - __main__ - INFO - üîí MULTI-USER SUPPORT: Thread-safe state management initialized
2025-07-24 15:59:13,591 - __main__ - INFO - üöÄ Starting Enhanced SmartGov Assistant Bot...
2025-07-24 15:59:14,106 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getMe "HTTP/1.1 200 OK"
2025-07-24 15:59:14,250 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/deleteWebhook "HTTP/1.1 200 OK"
2025-07-24 15:59:14,253 - telegram.ext.Application - INFO - Application started
2025-07-24 15:59:24,684 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:59:34,828 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:59:44,973 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 15:59:55,132 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:00:05,275 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:00:14,722 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:00:14,724 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 16:00:14,724 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 16:00:14,726 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 16:00:14,726 - __main__ - INFO - [MSG] User 5462740970: ‚ùå Cancel
2025-07-24 16:00:14,726 - __main__ - INFO - [USER] New conversation started by user 5462740970
2025-07-24 16:00:15,354 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 16:00:17,904 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:00:17,907 - __main__ - INFO - [CALLBACK] Received from 5462740970: schemes
2025-07-24 16:00:18,219 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 16:00:18,546 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 16:00:25,629 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:00:25,633 - __main__ - INFO - [CALLBACK] Received from 5462740970: main_menu
2025-07-24 16:00:26,253 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 16:00:26,254 - __main__ - INFO - [USER] New conversation started by user 5462740970
2025-07-24 16:00:26,586 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 16:00:35,773 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:00:45,916 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:00:56,058 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:01:06,200 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:01:16,347 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:01:26,495 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:01:36,646 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:01:46,788 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:02:07,921 - __main__ - INFO - üìö Data files loaded successfully
2025-07-24 16:02:07,921 - __main__ - WARNING - ‚ö†Ô∏è Google Sheets integration disabled or credentials file not configured
2025-07-24 16:02:07,921 - __main__ - INFO - üîí MULTI-USER SUPPORT: Thread-safe state management initialized
2025-07-24 16:02:08,732 - __main__ - INFO - üöÄ Starting Enhanced SmartGov Assistant Bot...
2025-07-24 16:02:09,243 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getMe "HTTP/1.1 200 OK"
2025-07-24 16:02:09,388 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/deleteWebhook "HTTP/1.1 200 OK"
2025-07-24 16:02:09,391 - telegram.ext.Application - INFO - Application started
2025-07-24 16:02:19,838 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:02:29,607 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:02:29,611 - __main__ - INFO - [CALLBACK] Received from 5462740970: schemes
2025-07-24 16:02:30,205 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 16:02:30,536 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 16:02:39,757 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:02:49,966 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:03:00,114 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:03:10,260 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:03:20,408 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:03:30,562 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:03:40,709 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:03:50,856 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:04:01,009 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:04:11,180 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:04:21,326 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:04:35,784 - __main__ - INFO - üìö Data files from Excel sheet loaded successfully
2025-07-24 16:04:35,785 - __main__ - WARNING - ‚ö†Ô∏è Google Sheets integration disabled or credentials file not configured
2025-07-24 16:04:35,785 - __main__ - INFO - üîí MULTI-USER SUPPORT: Thread-safe state management initialized
2025-07-24 16:04:36,558 - __main__ - INFO - üöÄ Starting Enhanced SmartGov Assistant Bot...
2025-07-24 16:04:37,019 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getMe "HTTP/1.1 200 OK"
2025-07-24 16:04:37,165 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/deleteWebhook "HTTP/1.1 200 OK"
2025-07-24 16:04:37,167 - telegram.ext.Application - INFO - Application started
2025-07-24 16:04:47,581 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:04:57,724 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:05:07,873 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:05:18,050 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:05:28,194 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:05:38,354 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:05:48,499 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:05:58,648 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:06:08,794 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:06:18,940 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:06:29,084 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:06:39,230 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:06:49,377 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:06:59,533 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:07:09,678 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:07:19,834 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:07:29,979 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:07:40,126 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:07:50,267 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:08:00,410 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:08:10,561 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:08:20,713 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:08:30,855 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:08:41,000 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:08:51,148 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:08:58,595 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:08:58,601 - __main__ - INFO - [CALLBACK] Received from 5462740970: main_menu
2025-07-24 16:08:59,246 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 16:08:59,248 - __main__ - INFO - [USER] New conversation started by user 5462740970
2025-07-24 16:08:59,581 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 16:09:01,528 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:09:01,531 - __main__ - INFO - [CALLBACK] Received from 5462740970: schemes
2025-07-24 16:09:01,860 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 16:09:02,197 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 16:09:11,099 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:09:11,102 - __main__ - INFO - [CALLBACK] Received from 5462740970: scheme_23
2025-07-24 16:09:11,686 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 16:09:12,005 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 16:09:21,246 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:09:31,388 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:09:41,529 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:09:51,685 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:10:01,828 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:10:11,971 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:10:22,109 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:10:32,250 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:10:42,403 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:10:52,550 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:11:02,865 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:11:13,005 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:11:23,202 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:11:33,352 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:11:43,499 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:11:53,643 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:12:03,785 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:12:17,243 - __main__ - INFO - üìö Data files from Excel sheet loaded successfully
2025-07-24 16:12:17,243 - __main__ - WARNING - ‚ö†Ô∏è Google Sheets integration disabled or credentials file not configured
2025-07-24 16:12:17,243 - __main__ - INFO - üîí MULTI-USER SUPPORT: Thread-safe state management initialized
2025-07-24 16:12:17,854 - __main__ - INFO - üöÄ Starting Enhanced SmartGov Assistant Bot...
2025-07-24 16:12:18,319 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getMe "HTTP/1.1 200 OK"
2025-07-24 16:12:18,465 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/deleteWebhook "HTTP/1.1 200 OK"
2025-07-24 16:12:18,468 - telegram.ext.Application - INFO - Application started
2025-07-24 16:12:28,882 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:12:39,025 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:12:49,168 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:12:59,316 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:13:09,458 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:13:19,601 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:13:29,757 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:13:39,901 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:13:50,042 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:14:00,189 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:14:10,329 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:14:20,470 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:14:30,611 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:14:40,752 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:14:50,897 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:15:01,076 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:15:11,222 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:15:21,366 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:15:31,512 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:15:41,650 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:15:49,069 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:15:49,073 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 16:15:49,073 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 16:15:49,073 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 16:15:49,073 - __main__ - INFO - [MSG] User 5462740970: Hello
2025-07-24 16:15:49,075 - __main__ - INFO - üîç [LLM] Language Detection Prompt: Analyze this text and determine if it's English, Hindi, or Nepali.
            
            Text to analyze: "Hello"
            
            CRITICAL DETECTION RULES:
            
            HINDI INDICATORS (Romanized):
            - Key words: mereko, mujhe, main, aap, tum, karna, chahiye, hai, hain
            - Grammar: verb + hain/hai (karna hain, chahiye hai)
            - Pronouns: mereko, mujhe, main, aap, tum
            - Question words: kya, kaise, kahan, kab, kyun, kaun
            
            NEPALI INDICATORS (Romanized):
            - Key words: malai, ma, tapai, timi, garna, chahincha, chha, hun
            - Grammar: verb + chha/chhan (garna chha, chahincha)
            - Pronouns: malai, ma, tapai, timi
            - Question words: ke, kasari, kahaan, kahile, kina, ko
            
            ENGLISH INDICATORS:
            - Pure English vocabulary and grammar
            - No Hindi/Nepali words mixed in
            
            DECISION RULES:
            1. If text contains "mereko", "mujhe", "karna hain", "chahiye" ‚Üí HINDI
            2. If text contains "malai", "garna chha", "chahincha" ‚Üí NEPALI
            3. If text is pure English ‚Üí ENGLISH
            4. For mixed text, identify the dominant language based on grammar patterns
            
            Examples:
            - "Mereko ex gratia apply karna hain" ‚Üí HINDI (mereko + karna hain)
            - "Malai certificate apply garna chha" ‚Üí NEPALI (malai + garna chha)
            - "I want to apply for ex gratia" ‚Üí ENGLISH (pure English)
            
            Respond with EXACTLY one word: english, hindi, or nepali
2025-07-24 16:15:54,360 - __main__ - INFO - ü§ñ [LLM] Language Detection Response: english
2025-07-24 16:15:54,360 - __main__ - INFO - ‚úÖ Language detected by Qwen: english
2025-07-24 16:15:54,360 - __main__ - INFO - üåê LANGUAGE SET: User 5462740970 ‚Üí english
2025-07-24 16:15:54,361 - __main__ - INFO - [LANG] User 5462740970 language detected: english
2025-07-24 16:15:54,361 - __main__ - INFO - [INTENT] Processing new message: Hello
2025-07-24 16:15:54,361 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Hello
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 16:15:54,741 - __main__ - INFO - üéØ [LLM] Intent Classification Response: greeting
2025-07-24 16:15:54,741 - __main__ - INFO - [INTENT] Detected intent: greeting
2025-07-24 16:15:55,432 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 16:15:59,221 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:15:59,480 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:15:59,483 - __main__ - INFO - [CALLBACK] Received from 5462740970: lang_english
2025-07-24 16:15:59,799 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 16:15:59,801 - __main__ - INFO - üåê LANGUAGE SET: User 5462740970 ‚Üí english
2025-07-24 16:16:00,172 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 16:16:01,680 - __main__ - INFO - [USER] New conversation started by user 5462740970
2025-07-24 16:16:02,111 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 16:16:09,627 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:16:12,374 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:16:12,377 - __main__ - INFO - [CALLBACK] Received from 5462740970: emergency
2025-07-24 16:16:12,981 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 16:16:13,301 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 16:16:13,303 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'location_request', 'service_type': 'emergency', 'stage': 'waiting_location'}
2025-07-24 16:16:13,303 - __main__ - ERROR - Error in callback handler: 'NoneType' object has no attribute 'reply_text'
2025-07-24 16:16:13,740 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 16:16:17,371 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:16:17,375 - __main__ - INFO - [CALLBACK] Received from 5462740970: emergency
2025-07-24 16:16:17,711 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 16:16:18,036 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 16:16:18,037 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'location_request', 'service_type': 'emergency', 'stage': 'waiting_location'}
2025-07-24 16:16:18,038 - __main__ - ERROR - Error in callback handler: 'NoneType' object has no attribute 'reply_text'
2025-07-24 16:16:18,365 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 16:16:27,513 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:16:37,656 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:16:47,862 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:16:58,005 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:17:08,150 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:17:18,292 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:17:35,895 - __main__ - INFO - üìö Data files from Excel sheet loaded successfully
2025-07-24 16:17:35,896 - __main__ - WARNING - ‚ö†Ô∏è Google Sheets integration disabled or credentials file not configured
2025-07-24 16:17:35,896 - __main__ - INFO - üîí MULTI-USER SUPPORT: Thread-safe state management initialized
2025-07-24 16:17:36,724 - __main__ - INFO - üöÄ Starting Enhanced SmartGov Assistant Bot...
2025-07-24 16:17:37,204 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getMe "HTTP/1.1 200 OK"
2025-07-24 16:17:37,352 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/deleteWebhook "HTTP/1.1 200 OK"
2025-07-24 16:17:37,356 - telegram.ext.Application - INFO - Application started
2025-07-24 16:17:47,784 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:17:57,933 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:17:58,145 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:17:58,147 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 16:17:58,148 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 16:17:58,148 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 16:17:58,148 - __main__ - INFO - [MSG] User 5462740970: Hello
2025-07-24 16:17:58,149 - __main__ - INFO - üîç [LLM] Language Detection Prompt: Analyze this text and determine if it's English, Hindi, or Nepali.
            
            Text to analyze: "Hello"
            
            CRITICAL DETECTION RULES:
            
            HINDI INDICATORS (Romanized):
            - Key words: mereko, mujhe, main, aap, tum, karna, chahiye, hai, hain
            - Grammar: verb + hain/hai (karna hain, chahiye hai)
            - Pronouns: mereko, mujhe, main, aap, tum
            - Question words: kya, kaise, kahan, kab, kyun, kaun
            
            NEPALI INDICATORS (Romanized):
            - Key words: malai, ma, tapai, timi, garna, chahincha, chha, hun
            - Grammar: verb + chha/chhan (garna chha, chahincha)
            - Pronouns: malai, ma, tapai, timi
            - Question words: ke, kasari, kahaan, kahile, kina, ko
            
            ENGLISH INDICATORS:
            - Pure English vocabulary and grammar
            - No Hindi/Nepali words mixed in
            
            DECISION RULES:
            1. If text contains "mereko", "mujhe", "karna hain", "chahiye" ‚Üí HINDI
            2. If text contains "malai", "garna chha", "chahincha" ‚Üí NEPALI
            3. If text is pure English ‚Üí ENGLISH
            4. For mixed text, identify the dominant language based on grammar patterns
            
            Examples:
            - "Mereko ex gratia apply karna hain" ‚Üí HINDI (mereko + karna hain)
            - "Malai certificate apply garna chha" ‚Üí NEPALI (malai + garna chha)
            - "I want to apply for ex gratia" ‚Üí ENGLISH (pure English)
            
            Respond with EXACTLY one word: english, hindi, or nepali
2025-07-24 16:18:00,932 - __main__ - INFO - ü§ñ [LLM] Language Detection Response: english
2025-07-24 16:18:00,932 - __main__ - INFO - ‚úÖ Language detected by Qwen: english
2025-07-24 16:18:00,933 - __main__ - INFO - üåê LANGUAGE SET: User 5462740970 ‚Üí english
2025-07-24 16:18:00,933 - __main__ - INFO - [LANG] User 5462740970 language detected: english
2025-07-24 16:18:00,933 - __main__ - INFO - [INTENT] Processing new message: Hello
2025-07-24 16:18:00,933 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Hello
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 16:18:01,304 - __main__ - INFO - üéØ [LLM] Intent Classification Response: greeting
2025-07-24 16:18:01,304 - __main__ - INFO - [INTENT] Detected intent: greeting
2025-07-24 16:18:01,908 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 16:18:07,585 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:18:07,588 - __main__ - INFO - [CALLBACK] Received from 5462740970: lang_english
2025-07-24 16:18:08,179 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 16:18:08,181 - __main__ - INFO - üåê LANGUAGE SET: User 5462740970 ‚Üí english
2025-07-24 16:18:08,507 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 16:18:10,024 - __main__ - INFO - [USER] New conversation started by user 5462740970
2025-07-24 16:18:10,368 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 16:18:12,120 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:18:12,123 - __main__ - INFO - [CALLBACK] Received from 5462740970: emergency
2025-07-24 16:18:12,429 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 16:18:12,735 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 16:18:12,736 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'location_request', 'service_type': 'emergency', 'stage': 'waiting_location'}
2025-07-24 16:18:12,737 - __main__ - ERROR - Error in callback handler: 'NoneType' object has no attribute 'reply_text'
2025-07-24 16:18:13,065 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 16:18:21,504 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:18:21,506 - __main__ - INFO - [CALLBACK] Received from 5462740970: tourism
2025-07-24 16:18:22,434 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 16:18:22,868 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 16:18:23,888 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:18:23,892 - __main__ - INFO - [CALLBACK] Received from 5462740970: place_Yuksam
2025-07-24 16:18:24,311 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 16:18:24,344 - __main__ - ERROR - Error in callback handler: 'Rating'
2025-07-24 16:18:24,670 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 16:18:34,035 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:18:44,179 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:18:54,321 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:19:04,464 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:19:14,606 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:19:24,747 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:19:34,889 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:19:45,041 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:19:55,183 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:20:05,342 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:20:15,484 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:20:25,642 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:20:35,797 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:20:46,437 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:21:06,145 - __main__ - INFO - üìö Data files from Excel sheet loaded successfully
2025-07-24 16:21:06,145 - __main__ - WARNING - ‚ö†Ô∏è Google Sheets integration disabled or credentials file not configured
2025-07-24 16:21:06,147 - __main__ - INFO - üîí MULTI-USER SUPPORT: Thread-safe state management initialized
2025-07-24 16:21:06,824 - __main__ - INFO - üöÄ Starting Enhanced SmartGov Assistant Bot...
2025-07-24 16:21:07,298 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getMe "HTTP/1.1 200 OK"
2025-07-24 16:21:07,434 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/deleteWebhook "HTTP/1.1 200 OK"
2025-07-24 16:21:07,437 - telegram.ext.Application - INFO - Application started
2025-07-24 16:21:17,867 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:21:28,010 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:21:38,154 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:21:46,907 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:21:46,910 - __main__ - INFO - [CALLBACK] Received from 5462740970: main_menu
2025-07-24 16:21:47,597 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 16:21:47,598 - __main__ - INFO - [USER] New conversation started by user 5462740970
2025-07-24 16:21:47,944 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 16:21:50,277 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:21:50,280 - __main__ - INFO - [CALLBACK] Received from 5462740970: complaint
2025-07-24 16:21:50,588 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 16:21:50,589 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'complaint', 'step': 'name'}
2025-07-24 16:21:50,906 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 16:21:55,419 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:21:55,421 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 16:21:55,421 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 16:21:55,421 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 16:21:55,422 - __main__ - INFO - [MSG] User 5462740970: Abhishek
2025-07-24 16:21:55,422 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 16:21:55,422 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'complaint', 'step': 'mobile', 'telegram_username': 'Abhishek', 'entered_name': 'Abhishek', 'name': 'Abhishek (@Abhishek)'}
2025-07-24 16:21:55,807 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 16:22:02,727 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:22:02,731 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 16:22:02,731 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 16:22:02,732 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 16:22:02,732 - __main__ - INFO - [MSG] User 5462740970: 8888888888
2025-07-24 16:22:02,732 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 16:22:02,732 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'complaint', 'step': 'complaint', 'telegram_username': 'Abhishek', 'entered_name': 'Abhishek', 'name': 'Abhishek (@Abhishek)', 'mobile': '8888888888'}
2025-07-24 16:22:03,417 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 16:22:11,135 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:22:11,138 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 16:22:11,138 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 16:22:11,138 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 16:22:11,139 - __main__ - INFO - [MSG] User 5462740970: Hagsubdysvs
2025-07-24 16:22:11,139 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 16:22:11,802 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 16:22:11,804 - __main__ - ERROR - ‚ùå Error in message handler: name 'latitude' is not defined
2025-07-24 16:22:12,141 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 16:22:21,301 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:22:31,452 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:22:41,598 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:22:51,741 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:23:01,885 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:23:12,030 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:23:22,340 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:23:32,489 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:23:42,636 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:23:52,780 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:24:02,925 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:24:13,070 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:24:23,219 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:24:33,365 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:24:43,512 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:24:53,671 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:25:03,821 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:25:13,965 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:25:24,111 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:25:34,268 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:25:44,410 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:25:54,562 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:26:04,705 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:26:14,853 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:26:24,998 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:26:35,147 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:26:53,095 - __main__ - INFO - üìö Data files from Excel sheet loaded successfully
2025-07-24 16:26:53,095 - __main__ - WARNING - ‚ö†Ô∏è Google Sheets integration disabled or credentials file not configured
2025-07-24 16:26:53,095 - __main__ - INFO - üîí MULTI-USER SUPPORT: Thread-safe state management initialized
2025-07-24 16:26:53,653 - __main__ - INFO - üöÄ Starting Enhanced SmartGov Assistant Bot...
2025-07-24 16:26:54,132 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getMe "HTTP/1.1 200 OK"
2025-07-24 16:26:54,270 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/deleteWebhook "HTTP/1.1 200 OK"
2025-07-24 16:26:54,272 - telegram.ext.Application - INFO - Application started
2025-07-24 16:27:04,695 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:27:05,689 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:27:05,692 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 16:27:05,692 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 16:27:05,693 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 16:27:05,693 - __main__ - INFO - [MSG] User 5462740970: Hello
2025-07-24 16:27:05,694 - __main__ - INFO - üîç [LLM] Language Detection Prompt: Analyze this text and determine if it's English, Hindi, or Nepali.
            
            Text to analyze: "Hello"
            
            CRITICAL DETECTION RULES:
            
            HINDI INDICATORS (Romanized):
            - Key words: mereko, mujhe, main, aap, tum, karna, chahiye, hai, hain
            - Grammar: verb + hain/hai (karna hain, chahiye hai)
            - Pronouns: mereko, mujhe, main, aap, tum
            - Question words: kya, kaise, kahan, kab, kyun, kaun
            
            NEPALI INDICATORS (Romanized):
            - Key words: malai, ma, tapai, timi, garna, chahincha, chha, hun
            - Grammar: verb + chha/chhan (garna chha, chahincha)
            - Pronouns: malai, ma, tapai, timi
            - Question words: ke, kasari, kahaan, kahile, kina, ko
            
            ENGLISH INDICATORS:
            - Pure English vocabulary and grammar
            - No Hindi/Nepali words mixed in
            
            DECISION RULES:
            1. If text contains "mereko", "mujhe", "karna hain", "chahiye" ‚Üí HINDI
            2. If text contains "malai", "garna chha", "chahincha" ‚Üí NEPALI
            3. If text is pure English ‚Üí ENGLISH
            4. For mixed text, identify the dominant language based on grammar patterns
            
            Examples:
            - "Mereko ex gratia apply karna hain" ‚Üí HINDI (mereko + karna hain)
            - "Malai certificate apply garna chha" ‚Üí NEPALI (malai + garna chha)
            - "I want to apply for ex gratia" ‚Üí ENGLISH (pure English)
            
            Respond with EXACTLY one word: english, hindi, or nepali
2025-07-24 16:27:10,934 - __main__ - INFO - ü§ñ [LLM] Language Detection Response: english
2025-07-24 16:27:10,934 - __main__ - INFO - ‚úÖ Language detected by Qwen: english
2025-07-24 16:27:10,934 - __main__ - INFO - üåê LANGUAGE SET: User 5462740970 ‚Üí english
2025-07-24 16:27:10,935 - __main__ - INFO - [LANG] User 5462740970 language detected: english
2025-07-24 16:27:10,935 - __main__ - INFO - [INTENT] Processing new message: Hello
2025-07-24 16:27:10,935 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Hello
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 16:27:11,316 - __main__ - INFO - üéØ [LLM] Intent Classification Response: greeting
2025-07-24 16:27:11,316 - __main__ - INFO - [INTENT] Detected intent: greeting
2025-07-24 16:27:12,143 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 16:27:15,833 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:27:16,912 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:27:16,916 - __main__ - INFO - [CALLBACK] Received from 5462740970: lang_english
2025-07-24 16:27:17,228 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 16:27:17,229 - __main__ - INFO - üåê LANGUAGE SET: User 5462740970 ‚Üí english
2025-07-24 16:27:17,551 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 16:27:19,058 - __main__ - INFO - [USER] New conversation started by user 5462740970
2025-07-24 16:27:19,398 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 16:27:22,275 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:27:22,277 - __main__ - INFO - [CALLBACK] Received from 5462740970: disaster
2025-07-24 16:27:22,587 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 16:27:22,915 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 16:27:24,199 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:27:24,202 - __main__ - INFO - [CALLBACK] Received from 5462740970: ex_gratia
2025-07-24 16:27:24,516 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 16:27:24,840 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 16:27:26,469 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:27:26,472 - __main__ - INFO - [CALLBACK] Received from 5462740970: ex_gratia_start
2025-07-24 16:27:26,782 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 16:27:26,783 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'name'}
2025-07-24 16:27:27,122 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 16:27:28,799 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:27:28,802 - __main__ - INFO - [CALLBACK] Received from 5462740970: disaster
2025-07-24 16:27:29,118 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 16:27:29,450 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 16:27:30,968 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:27:30,971 - __main__ - INFO - [CALLBACK] Received from 5462740970: main_menu
2025-07-24 16:27:31,282 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 16:27:31,282 - __main__ - INFO - üßπ STATE CLEARED: User 5462740970
2025-07-24 16:27:31,284 - __main__ - INFO - [USER] New conversation started by user 5462740970
2025-07-24 16:27:31,643 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 16:27:33,670 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:27:33,674 - __main__ - INFO - [CALLBACK] Received from 5462740970: complaint
2025-07-24 16:27:33,983 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 16:27:33,985 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'complaint', 'step': 'name'}
2025-07-24 16:27:34,309 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 16:27:36,552 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:27:36,555 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 16:27:36,555 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 16:27:36,556 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 16:27:36,556 - __main__ - INFO - [MSG] User 5462740970: Hi
2025-07-24 16:27:36,557 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 16:27:36,557 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'complaint', 'step': 'mobile', 'telegram_username': 'Abhishek', 'entered_name': 'Hi', 'name': 'Hi (@Abhishek)'}
2025-07-24 16:27:36,880 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 16:27:42,227 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:27:42,230 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 16:27:42,231 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 16:27:42,231 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 16:27:42,231 - __main__ - INFO - [MSG] User 5462740970: 8888888888
2025-07-24 16:27:42,232 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 16:27:42,232 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'complaint', 'step': 'complaint', 'telegram_username': 'Abhishek', 'entered_name': 'Hi', 'name': 'Hi (@Abhishek)', 'mobile': '8888888888'}
2025-07-24 16:27:42,856 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 16:27:45,991 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:27:45,994 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 16:27:45,994 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 16:27:45,995 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 16:27:45,995 - __main__ - INFO - [MSG] User 5462740970: Hxihfmdjfnf
2025-07-24 16:27:45,995 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 16:27:45,996 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'complaint', 'step': 'location', 'telegram_username': 'Abhishek', 'entered_name': 'Hi', 'name': 'Hi (@Abhishek)', 'mobile': '8888888888', 'complaint_description': 'Hxihfmdjfnf'}
2025-07-24 16:27:45,996 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'location_request', 'service_type': 'complaint', 'stage': 'waiting_location'}
2025-07-24 16:27:46,431 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 16:27:48,617 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:27:55,951 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:27:55,954 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 16:27:55,955 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 16:27:55,955 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 16:27:55,955 - __main__ - INFO - [MSG] User 5462740970: ‚ùå Cancel
2025-07-24 16:27:55,956 - __main__ - INFO - üßπ STATE CLEARED: User 5462740970
2025-07-24 16:27:55,956 - __main__ - INFO - [USER] New conversation started by user 5462740970
2025-07-24 16:27:56,621 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 16:28:06,103 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:28:16,245 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:28:26,390 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:28:36,533 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:28:46,677 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:28:56,817 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:29:06,959 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:29:17,107 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:29:27,250 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:29:37,868 - __main__ - INFO - üìö Data files from Excel sheet loaded successfully
2025-07-24 16:29:37,868 - __main__ - WARNING - ‚ö†Ô∏è Google Sheets integration disabled or credentials file not configured
2025-07-24 16:29:37,872 - __main__ - INFO - üîí MULTI-USER SUPPORT: Thread-safe state management initialized
2025-07-24 16:29:38,612 - __main__ - INFO - üöÄ Starting Enhanced SmartGov Assistant Bot...
2025-07-24 16:29:39,071 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getMe "HTTP/1.1 200 OK"
2025-07-24 16:29:39,215 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/deleteWebhook "HTTP/1.1 200 OK"
2025-07-24 16:29:39,221 - telegram.ext.Application - INFO - Application started
2025-07-24 16:29:49,650 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:30:00,260 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:30:10,413 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:30:20,561 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:30:28,401 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:30:28,404 - __main__ - INFO - [CALLBACK] Received from 5462740970: complaint
2025-07-24 16:30:28,992 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 16:30:28,993 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'complaint', 'step': 'name'}
2025-07-24 16:30:29,319 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 16:30:34,593 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:30:34,596 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 16:30:34,597 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 16:30:34,598 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 16:30:34,598 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 16:30:34,599 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 16:30:34,599 - __main__ - INFO - [MSG] User 5462740970: Hjajd
2025-07-24 16:30:34,599 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 16:30:34,599 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'complaint', 'step': 'mobile', 'telegram_username': 'Abhishek', 'entered_name': 'Hjajd', 'name': 'Hjajd (@Abhishek)'}
2025-07-24 16:30:35,230 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 16:30:40,254 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:30:40,257 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 16:30:40,258 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 16:30:40,259 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 16:30:40,259 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 16:30:40,259 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 16:30:40,261 - __main__ - INFO - [MSG] User 5462740970: 8888888888
2025-07-24 16:30:40,261 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 16:30:40,262 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'complaint', 'step': 'complaint', 'telegram_username': 'Abhishek', 'entered_name': 'Hjajd', 'name': 'Hjajd (@Abhishek)', 'mobile': '8888888888'}
2025-07-24 16:30:40,880 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 16:30:49,580 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:30:49,582 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 16:30:49,583 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 16:30:49,584 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 16:30:49,585 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 16:30:49,585 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 16:30:49,586 - __main__ - INFO - [MSG] User 5462740970: Uskdjhf
2025-07-24 16:30:49,587 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 16:30:49,587 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'complaint', 'step': 'location', 'telegram_username': 'Abhishek', 'entered_name': 'Hjajd', 'name': 'Hjajd (@Abhishek)', 'mobile': '8888888888', 'complaint_description': 'Uskdjhf'}
2025-07-24 16:30:49,589 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'location_request', 'service_type': 'complaint', 'stage': 'waiting_location'}
2025-07-24 16:30:50,206 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 16:30:58,237 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:30:58,391 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:31:01,016 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:31:01,018 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 16:31:01,019 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 16:31:01,021 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 16:31:01,021 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 16:31:01,021 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 16:31:01,021 - __main__ - INFO - [MSG] User 5462740970: ‚ùå Cancel
2025-07-24 16:31:01,023 - __main__ - INFO - üßπ STATE CLEARED: User 5462740970
2025-07-24 16:31:01,023 - __main__ - INFO - [USER] New conversation started by user 5462740970
2025-07-24 16:31:01,702 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 16:31:11,168 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:31:12,742 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:31:12,744 - __main__ - INFO - [CALLBACK] Received from 5462740970: schemes
2025-07-24 16:31:13,395 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 16:31:13,729 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 16:31:22,885 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:31:25,633 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:31:25,636 - __main__ - INFO - [CALLBACK] Received from 5462740970: main_menu
2025-07-24 16:31:26,243 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 16:31:26,244 - __main__ - INFO - [USER] New conversation started by user 5462740970
2025-07-24 16:31:26,582 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 16:31:32,785 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:31:32,789 - __main__ - INFO - [CALLBACK] Received from 5462740970: emergency
2025-07-24 16:31:33,581 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 16:31:33,983 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 16:31:33,984 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'location_request', 'service_type': 'emergency', 'stage': 'waiting_location'}
2025-07-24 16:31:34,400 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 16:31:34,844 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 16:31:38,781 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:31:48,923 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:31:59,068 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:32:09,216 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:32:19,359 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:32:29,513 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:32:39,664 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:32:49,812 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:32:59,964 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:33:10,112 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:33:20,263 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:33:30,407 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:33:40,553 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:33:54,435 - __main__ - INFO - üìö Data files from Excel sheet loaded successfully
2025-07-24 16:33:54,436 - __main__ - WARNING - ‚ö†Ô∏è Google Sheets integration disabled or credentials file not configured
2025-07-24 16:33:54,436 - __main__ - INFO - üîí MULTI-USER SUPPORT: Thread-safe state management initialized
2025-07-24 16:33:55,130 - __main__ - INFO - üöÄ Starting Enhanced SmartGov Assistant Bot...
2025-07-24 16:33:55,604 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getMe "HTTP/1.1 200 OK"
2025-07-24 16:33:55,757 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/deleteWebhook "HTTP/1.1 200 OK"
2025-07-24 16:33:55,759 - telegram.ext.Application - INFO - Application started
2025-07-24 16:34:06,192 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:34:11,852 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:34:11,855 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 16:34:11,856 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 16:34:11,856 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 16:34:11,857 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 16:34:11,857 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 16:34:11,859 - __main__ - INFO - [MSG] User 5462740970: ‚ùå Cancel
2025-07-24 16:34:11,859 - __main__ - INFO - [USER] New conversation started by user 5462740970
2025-07-24 16:34:12,476 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 16:34:14,592 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:34:14,596 - __main__ - INFO - [CALLBACK] Received from 5462740970: complaint
2025-07-24 16:34:14,911 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 16:34:14,913 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'complaint', 'step': 'name'}
2025-07-24 16:34:15,245 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 16:34:20,169 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:34:20,173 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 16:34:20,173 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 16:34:20,174 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 16:34:20,174 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 16:34:20,175 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 16:34:20,175 - __main__ - INFO - [MSG] User 5462740970: Cancel
2025-07-24 16:34:20,175 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 16:34:20,175 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'complaint', 'step': 'mobile', 'telegram_username': 'Abhishek', 'entered_name': 'Cancel', 'name': 'Cancel (@Abhishek)'}
2025-07-24 16:34:20,535 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 16:34:27,242 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:34:27,245 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 16:34:27,246 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 16:34:27,246 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 16:34:27,247 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 16:34:27,247 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 16:34:27,247 - __main__ - INFO - [MSG] User 5462740970: Hshhd
2025-07-24 16:34:27,249 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 16:34:27,863 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 16:34:37,399 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:34:47,543 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:34:57,689 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:35:07,836 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:35:17,996 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:35:28,144 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:35:38,305 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:35:48,465 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:35:58,619 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:36:08,766 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:36:18,916 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:36:29,069 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:36:39,212 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:36:48,072 - __main__ - INFO - üìö Data files from Excel sheet loaded successfully
2025-07-24 16:36:48,072 - __main__ - WARNING - ‚ö†Ô∏è Google Sheets integration disabled or credentials file not configured
2025-07-24 16:36:48,073 - __main__ - INFO - üîí MULTI-USER SUPPORT: Thread-safe state management initialized
2025-07-24 16:36:48,668 - __main__ - INFO - üöÄ Starting Enhanced SmartGov Assistant Bot...
2025-07-24 16:36:49,131 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getMe "HTTP/1.1 200 OK"
2025-07-24 16:36:49,268 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/deleteWebhook "HTTP/1.1 200 OK"
2025-07-24 16:36:49,271 - telegram.ext.Application - INFO - Application started
2025-07-24 16:36:59,686 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:37:09,894 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:37:20,034 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:37:30,173 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:37:40,313 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:37:50,458 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:37:50,875 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:37:50,878 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 16:37:50,879 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 16:37:50,880 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 16:37:50,880 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 16:37:50,880 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 16:37:50,880 - __main__ - INFO - [MSG] User 5462740970: Cancel
2025-07-24 16:37:50,891 - __main__ - INFO - [USER] New conversation started by user 5462740970
2025-07-24 16:37:51,569 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 16:37:55,962 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:37:55,967 - __main__ - INFO - [CALLBACK] Received from 5462740970: emergency
2025-07-24 16:37:56,274 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 16:37:56,581 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 16:37:56,582 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'location_request', 'service_type': 'emergency', 'stage': 'waiting_location'}
2025-07-24 16:37:56,897 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 16:37:57,226 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 16:38:00,491 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:38:10,636 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:38:20,059 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:38:20,063 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 16:38:20,063 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 16:38:20,064 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 16:38:20,064 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 16:38:20,065 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 16:38:20,065 - __main__ - INFO - [MSG] User 5462740970: ‚ùå Cancel
2025-07-24 16:38:20,065 - __main__ - INFO - üßπ STATE CLEARED: User 5462740970
2025-07-24 16:38:20,066 - __main__ - INFO - [USER] New conversation started by user 5462740970
2025-07-24 16:38:20,802 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 16:38:30,207 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:38:40,348 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:38:50,494 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:39:00,714 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:39:10,865 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:39:21,006 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:39:31,152 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:39:41,292 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:39:51,437 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:40:01,585 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:40:11,846 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:40:21,987 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:40:32,131 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:40:42,275 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:40:52,417 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:41:02,562 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:41:21,751 - __main__ - INFO - üìö Data files from Excel sheet loaded successfully
2025-07-24 16:41:21,751 - __main__ - WARNING - ‚ö†Ô∏è Google Sheets integration disabled or credentials file not configured
2025-07-24 16:41:21,751 - __main__ - INFO - üîí MULTI-USER SUPPORT: Thread-safe state management initialized
2025-07-24 16:41:22,282 - __main__ - INFO - üöÄ Starting Enhanced SmartGov Assistant Bot...
2025-07-24 16:41:22,741 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getMe "HTTP/1.1 200 OK"
2025-07-24 16:41:22,883 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/deleteWebhook "HTTP/1.1 200 OK"
2025-07-24 16:41:22,886 - telegram.ext.Application - INFO - Application started
2025-07-24 16:41:33,357 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:41:43,502 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:41:53,646 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:42:03,788 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:42:13,931 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:42:24,078 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:42:34,221 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:42:44,364 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:42:54,505 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:43:04,649 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:43:14,793 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:43:24,935 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:43:35,080 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:43:45,236 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:43:55,537 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:44:05,686 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:44:15,831 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:44:25,974 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:44:36,250 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:44:46,393 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:44:56,538 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:45:06,678 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:45:16,826 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:45:26,970 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:45:37,113 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:45:47,394 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:45:57,538 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:46:07,678 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:46:17,824 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:46:27,968 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:46:38,113 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:46:48,261 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:46:58,409 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:47:08,555 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:47:18,704 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:47:28,892 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:47:39,036 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:47:49,188 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:47:59,339 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:48:09,516 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:48:19,662 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:58:41,170 - __main__ - INFO - üìö Data files from Excel sheet loaded successfully
2025-07-24 16:58:41,171 - __main__ - WARNING - ‚ö†Ô∏è Google Sheets integration disabled or credentials file not configured
2025-07-24 16:58:41,171 - __main__ - INFO - üîí MULTI-USER SUPPORT: Thread-safe state management initialized
2025-07-24 16:58:41,945 - __main__ - INFO - üöÄ Starting Enhanced SmartGov Assistant Bot...
2025-07-24 16:58:42,415 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getMe "HTTP/1.1 200 OK"
2025-07-24 16:58:42,563 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/deleteWebhook "HTTP/1.1 200 OK"
2025-07-24 16:58:42,568 - telegram.ext.Application - INFO - Application started
2025-07-24 16:58:43,011 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:58:43,014 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 16:58:43,015 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 16:58:43,016 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 16:58:43,017 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 16:58:43,018 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 16:58:43,020 - __main__ - INFO - [MSG] User 5462740970: Hello
2025-07-24 16:58:43,022 - __main__ - INFO - üîç [LLM] Language Detection Prompt: Analyze this text and determine if it's English, Hindi, or Nepali.
            
            Text to analyze: "Hello"
            
            CRITICAL DETECTION RULES:
            
            HINDI INDICATORS (Romanized):
            - Key words: mereko, mujhe, main, aap, tum, karna, chahiye, hai, hain
            - Grammar: verb + hain/hai (karna hain, chahiye hai)
            - Pronouns: mereko, mujhe, main, aap, tum
            - Question words: kya, kaise, kahan, kab, kyun, kaun
            
            NEPALI INDICATORS (Romanized):
            - Key words: malai, ma, tapai, timi, garna, chahincha, chha, hun
            - Grammar: verb + chha/chhan (garna chha, chahincha)
            - Pronouns: malai, ma, tapai, timi
            - Question words: ke, kasari, kahaan, kahile, kina, ko
            
            ENGLISH INDICATORS:
            - Pure English vocabulary and grammar
            - No Hindi/Nepali words mixed in
            
            DECISION RULES:
            1. If text contains "mereko", "mujhe", "karna hain", "chahiye" ‚Üí HINDI
            2. If text contains "malai", "garna chha", "chahincha" ‚Üí NEPALI
            3. If text is pure English ‚Üí ENGLISH
            4. For mixed text, identify the dominant language based on grammar patterns
            
            Examples:
            - "Mereko ex gratia apply karna hain" ‚Üí HINDI (mereko + karna hain)
            - "Malai certificate apply garna chha" ‚Üí NEPALI (malai + garna chha)
            - "I want to apply for ex gratia" ‚Üí ENGLISH (pure English)
            
            Respond with EXACTLY one word: english, hindi, or nepali
2025-07-24 16:58:49,101 - __main__ - INFO - ü§ñ [LLM] Language Detection Response: english
2025-07-24 16:58:49,101 - __main__ - INFO - ‚úÖ Language detected by Qwen: english
2025-07-24 16:58:49,101 - __main__ - INFO - üåê LANGUAGE SET: User 5462740970 ‚Üí english
2025-07-24 16:58:49,101 - __main__ - INFO - [LANG] User 5462740970 language detected: english
2025-07-24 16:58:49,101 - __main__ - INFO - [INTENT] Processing new message: Hello
2025-07-24 16:58:49,101 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Hello
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 16:58:49,649 - __main__ - INFO - üéØ [LLM] Intent Classification Response: greeting
2025-07-24 16:58:49,650 - __main__ - INFO - [INTENT] Detected intent: greeting
2025-07-24 16:58:50,275 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 16:58:50,277 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 16:58:50,278 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 16:58:50,278 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 16:58:50,281 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 16:58:50,282 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 16:58:50,283 - __main__ - INFO - [MSG] User 5462740970: Hello
2025-07-24 16:58:50,284 - __main__ - INFO - üîç [LLM] Language Detection Prompt: Analyze this text and determine if it's English, Hindi, or Nepali.
            
            Text to analyze: "Hello"
            
            CRITICAL DETECTION RULES:
            
            HINDI INDICATORS (Romanized):
            - Key words: mereko, mujhe, main, aap, tum, karna, chahiye, hai, hain
            - Grammar: verb + hain/hai (karna hain, chahiye hai)
            - Pronouns: mereko, mujhe, main, aap, tum
            - Question words: kya, kaise, kahan, kab, kyun, kaun
            
            NEPALI INDICATORS (Romanized):
            - Key words: malai, ma, tapai, timi, garna, chahincha, chha, hun
            - Grammar: verb + chha/chhan (garna chha, chahincha)
            - Pronouns: malai, ma, tapai, timi
            - Question words: ke, kasari, kahaan, kahile, kina, ko
            
            ENGLISH INDICATORS:
            - Pure English vocabulary and grammar
            - No Hindi/Nepali words mixed in
            
            DECISION RULES:
            1. If text contains "mereko", "mujhe", "karna hain", "chahiye" ‚Üí HINDI
            2. If text contains "malai", "garna chha", "chahincha" ‚Üí NEPALI
            3. If text is pure English ‚Üí ENGLISH
            4. For mixed text, identify the dominant language based on grammar patterns
            
            Examples:
            - "Mereko ex gratia apply karna hain" ‚Üí HINDI (mereko + karna hain)
            - "Malai certificate apply garna chha" ‚Üí NEPALI (malai + garna chha)
            - "I want to apply for ex gratia" ‚Üí ENGLISH (pure English)
            
            Respond with EXACTLY one word: english, hindi, or nepali
2025-07-24 16:58:50,673 - __main__ - INFO - ü§ñ [LLM] Language Detection Response: english
2025-07-24 16:58:50,673 - __main__ - INFO - ‚úÖ Language detected by Qwen: english
2025-07-24 16:58:50,673 - __main__ - INFO - üåê LANGUAGE SET: User 5462740970 ‚Üí english
2025-07-24 16:58:50,673 - __main__ - INFO - [LANG] User 5462740970 language detected: english
2025-07-24 16:58:50,674 - __main__ - INFO - [INTENT] Processing new message: Hello
2025-07-24 16:58:50,674 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Hello
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 16:58:51,149 - __main__ - INFO - üéØ [LLM] Intent Classification Response: greeting
2025-07-24 16:58:51,149 - __main__ - INFO - [INTENT] Detected intent: greeting
2025-07-24 16:58:51,357 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:58:51,477 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 16:58:51,479 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 16:58:51,480 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 16:58:51,483 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 16:58:51,485 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 16:58:51,485 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 16:58:51,486 - __main__ - INFO - [MSG] User 5462740970: Hello
2025-07-24 16:58:51,487 - __main__ - INFO - üîç [LLM] Language Detection Prompt: Analyze this text and determine if it's English, Hindi, or Nepali.
            
            Text to analyze: "Hello"
            
            CRITICAL DETECTION RULES:
            
            HINDI INDICATORS (Romanized):
            - Key words: mereko, mujhe, main, aap, tum, karna, chahiye, hai, hain
            - Grammar: verb + hain/hai (karna hain, chahiye hai)
            - Pronouns: mereko, mujhe, main, aap, tum
            - Question words: kya, kaise, kahan, kab, kyun, kaun
            
            NEPALI INDICATORS (Romanized):
            - Key words: malai, ma, tapai, timi, garna, chahincha, chha, hun
            - Grammar: verb + chha/chhan (garna chha, chahincha)
            - Pronouns: malai, ma, tapai, timi
            - Question words: ke, kasari, kahaan, kahile, kina, ko
            
            ENGLISH INDICATORS:
            - Pure English vocabulary and grammar
            - No Hindi/Nepali words mixed in
            
            DECISION RULES:
            1. If text contains "mereko", "mujhe", "karna hain", "chahiye" ‚Üí HINDI
            2. If text contains "malai", "garna chha", "chahincha" ‚Üí NEPALI
            3. If text is pure English ‚Üí ENGLISH
            4. For mixed text, identify the dominant language based on grammar patterns
            
            Examples:
            - "Mereko ex gratia apply karna hain" ‚Üí HINDI (mereko + karna hain)
            - "Malai certificate apply garna chha" ‚Üí NEPALI (malai + garna chha)
            - "I want to apply for ex gratia" ‚Üí ENGLISH (pure English)
            
            Respond with EXACTLY one word: english, hindi, or nepali
2025-07-24 16:58:51,885 - __main__ - INFO - ü§ñ [LLM] Language Detection Response: english
2025-07-24 16:58:51,885 - __main__ - INFO - ‚úÖ Language detected by Qwen: english
2025-07-24 16:58:51,886 - __main__ - INFO - üåê LANGUAGE SET: User 5462740970 ‚Üí english
2025-07-24 16:58:51,886 - __main__ - INFO - [LANG] User 5462740970 language detected: english
2025-07-24 16:58:51,886 - __main__ - INFO - [INTENT] Processing new message: Hello
2025-07-24 16:58:51,886 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Hello
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 16:58:52,361 - __main__ - INFO - üéØ [LLM] Intent Classification Response: greeting
2025-07-24 16:58:52,362 - __main__ - INFO - [INTENT] Detected intent: greeting
2025-07-24 16:58:52,770 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 16:58:55,191 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:58:55,194 - __main__ - INFO - [CALLBACK] Received from 5462740970: lang_english
2025-07-24 16:58:55,527 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 16:58:55,528 - __main__ - INFO - üåê LANGUAGE SET: User 5462740970 ‚Üí english
2025-07-24 16:58:55,853 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 16:58:57,370 - __main__ - INFO - [USER] New conversation started by user 5462740970
2025-07-24 16:58:57,693 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 16:59:01,072 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:59:01,076 - __main__ - INFO - [CALLBACK] Received from 5462740970: emergency
2025-07-24 16:59:01,445 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 16:59:01,878 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 16:59:01,880 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'location_request', 'service_type': 'emergency', 'stage': 'waiting_location'}
2025-07-24 16:59:02,379 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 16:59:02,854 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 16:59:08,845 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:59:14,427 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:59:14,429 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 16:59:14,430 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 16:59:14,431 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 16:59:14,431 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 16:59:14,432 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 16:59:14,432 - __main__ - INFO - [MSG] User 5462740970: üìù Type Location Name
2025-07-24 16:59:14,433 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'manual_location_name', 'service_type': 'emergency', 'stage': 'waiting_location', 'step': 'location_name'}
2025-07-24 16:59:15,055 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 16:59:17,768 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:59:17,772 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 16:59:17,773 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 16:59:17,773 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 16:59:17,774 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 16:59:17,774 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 16:59:17,774 - __main__ - INFO - [MSG] User 5462740970: Gangtok
2025-07-24 16:59:17,775 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 16:59:17,775 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Gangtok
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 16:59:20,342 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 16:59:20,343 - __main__ - ERROR - ‚ùå Error in message handler: 'latitude'
2025-07-24 16:59:20,945 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 16:59:27,923 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:59:38,083 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:59:48,232 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 16:59:58,391 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:00:08,538 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:00:16,759 - __main__ - INFO - üìö Data files from Excel sheet loaded successfully
2025-07-24 17:00:16,759 - __main__ - WARNING - ‚ö†Ô∏è Google Sheets integration disabled or credentials file not configured
2025-07-24 17:00:16,760 - __main__ - INFO - üîí MULTI-USER SUPPORT: Thread-safe state management initialized
2025-07-24 17:00:17,435 - __main__ - INFO - üöÄ Starting Enhanced SmartGov Assistant Bot...
2025-07-24 17:00:18,465 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getMe "HTTP/1.1 200 OK"
2025-07-24 17:00:18,673 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/deleteWebhook "HTTP/1.1 200 OK"
2025-07-24 17:00:18,677 - telegram.ext.Application - INFO - Application started
2025-07-24 17:00:29,118 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:00:39,277 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:00:49,428 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:00:59,576 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:01:09,745 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:01:19,905 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:01:30,077 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:01:40,238 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:01:50,394 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:01:51,352 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:01:51,356 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 17:01:51,357 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 17:01:51,358 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 17:01:51,359 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 17:01:51,360 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 17:01:51,360 - __main__ - INFO - [MSG] User 5462740970: Hello
2025-07-24 17:01:51,362 - __main__ - INFO - üîç [LLM] Language Detection Prompt: Analyze this text and determine if it's English, Hindi, or Nepali.
            
            Text to analyze: "Hello"
            
            CRITICAL DETECTION RULES:
            
            HINDI INDICATORS (Romanized):
            - Key words: mereko, mujhe, main, aap, tum, karna, chahiye, hai, hain
            - Grammar: verb + hain/hai (karna hain, chahiye hai)
            - Pronouns: mereko, mujhe, main, aap, tum
            - Question words: kya, kaise, kahan, kab, kyun, kaun
            
            NEPALI INDICATORS (Romanized):
            - Key words: malai, ma, tapai, timi, garna, chahincha, chha, hun
            - Grammar: verb + chha/chhan (garna chha, chahincha)
            - Pronouns: malai, ma, tapai, timi
            - Question words: ke, kasari, kahaan, kahile, kina, ko
            
            ENGLISH INDICATORS:
            - Pure English vocabulary and grammar
            - No Hindi/Nepali words mixed in
            
            DECISION RULES:
            1. If text contains "mereko", "mujhe", "karna hain", "chahiye" ‚Üí HINDI
            2. If text contains "malai", "garna chha", "chahincha" ‚Üí NEPALI
            3. If text is pure English ‚Üí ENGLISH
            4. For mixed text, identify the dominant language based on grammar patterns
            
            Examples:
            - "Mereko ex gratia apply karna hain" ‚Üí HINDI (mereko + karna hain)
            - "Malai certificate apply garna chha" ‚Üí NEPALI (malai + garna chha)
            - "I want to apply for ex gratia" ‚Üí ENGLISH (pure English)
            
            Respond with EXACTLY one word: english, hindi, or nepali
2025-07-24 17:01:54,084 - __main__ - INFO - ü§ñ [LLM] Language Detection Response: english
2025-07-24 17:01:54,084 - __main__ - INFO - ‚úÖ Language detected by Qwen: english
2025-07-24 17:01:54,084 - __main__ - INFO - üåê LANGUAGE SET: User 5462740970 ‚Üí english
2025-07-24 17:01:54,085 - __main__ - INFO - [LANG] User 5462740970 language detected: english
2025-07-24 17:01:54,085 - __main__ - INFO - [INTENT] Processing new message: Hello
2025-07-24 17:01:54,085 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Hello
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 17:01:54,518 - __main__ - INFO - üéØ [LLM] Intent Classification Response: greeting
2025-07-24 17:01:54,519 - __main__ - INFO - [INTENT] Detected intent: greeting
2025-07-24 17:01:55,217 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 17:01:56,545 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:01:56,552 - __main__ - INFO - [CALLBACK] Received from 5462740970: lang_english
2025-07-24 17:01:56,863 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 17:01:56,863 - __main__ - INFO - üåê LANGUAGE SET: User 5462740970 ‚Üí english
2025-07-24 17:01:57,181 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 17:01:58,688 - __main__ - INFO - [USER] New conversation started by user 5462740970
2025-07-24 17:01:59,022 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 17:02:01,135 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:02:01,139 - __main__ - INFO - [CALLBACK] Received from 5462740970: emergency
2025-07-24 17:02:01,452 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 17:02:01,774 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 17:02:01,775 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'location_request', 'service_type': 'emergency', 'stage': 'waiting_location'}
2025-07-24 17:02:02,107 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 17:02:02,444 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 17:02:05,577 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:02:05,580 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 17:02:05,580 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 17:02:05,581 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 17:02:05,581 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 17:02:05,581 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 17:02:05,582 - __main__ - INFO - [MSG] User 5462740970: ‚è≠Ô∏è Skip Location
2025-07-24 17:02:05,582 - __main__ - ERROR - ‚ùå Error in message handler: 'latitude'
2025-07-24 17:02:06,181 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 17:02:15,886 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:02:26,033 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:02:36,181 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:04:22,151 - __main__ - INFO - üìö Data files from Excel sheet loaded successfully
2025-07-24 17:04:22,152 - __main__ - WARNING - ‚ö†Ô∏è Google Sheets integration disabled or credentials file not configured
2025-07-24 17:04:22,154 - __main__ - INFO - üîí MULTI-USER SUPPORT: Thread-safe state management initialized
2025-07-24 17:04:23,002 - __main__ - INFO - üöÄ Starting Enhanced SmartGov Assistant Bot...
2025-07-24 17:04:23,477 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getMe "HTTP/1.1 200 OK"
2025-07-24 17:04:23,623 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/deleteWebhook "HTTP/1.1 200 OK"
2025-07-24 17:04:23,628 - telegram.ext.Application - INFO - Application started
2025-07-24 17:04:34,124 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:04:44,271 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:04:49,170 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:04:49,171 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 17:04:49,172 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 17:04:49,173 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 17:04:49,173 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 17:04:49,174 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 17:04:49,174 - __main__ - INFO - [MSG] User 5462740970: Hello
2025-07-24 17:04:49,175 - __main__ - INFO - üîç [LLM] Language Detection Prompt: Analyze this text and determine if it's English, Hindi, or Nepali.
            
            Text to analyze: "Hello"
            
            CRITICAL DETECTION RULES:
            
            HINDI INDICATORS (Romanized):
            - Key words: mereko, mujhe, main, aap, tum, karna, chahiye, hai, hain
            - Grammar: verb + hain/hai (karna hain, chahiye hai)
            - Pronouns: mereko, mujhe, main, aap, tum
            - Question words: kya, kaise, kahan, kab, kyun, kaun
            
            NEPALI INDICATORS (Romanized):
            - Key words: malai, ma, tapai, timi, garna, chahincha, chha, hun
            - Grammar: verb + chha/chhan (garna chha, chahincha)
            - Pronouns: malai, ma, tapai, timi
            - Question words: ke, kasari, kahaan, kahile, kina, ko
            
            ENGLISH INDICATORS:
            - Pure English vocabulary and grammar
            - No Hindi/Nepali words mixed in
            
            DECISION RULES:
            1. If text contains "mereko", "mujhe", "karna hain", "chahiye" ‚Üí HINDI
            2. If text contains "malai", "garna chha", "chahincha" ‚Üí NEPALI
            3. If text is pure English ‚Üí ENGLISH
            4. For mixed text, identify the dominant language based on grammar patterns
            
            Examples:
            - "Mereko ex gratia apply karna hain" ‚Üí HINDI (mereko + karna hain)
            - "Malai certificate apply garna chha" ‚Üí NEPALI (malai + garna chha)
            - "I want to apply for ex gratia" ‚Üí ENGLISH (pure English)
            
            Respond with EXACTLY one word: english, hindi, or nepali
2025-07-24 17:04:51,838 - __main__ - INFO - ü§ñ [LLM] Language Detection Response: english
2025-07-24 17:04:51,838 - __main__ - INFO - ‚úÖ Language detected by Qwen: english
2025-07-24 17:04:51,839 - __main__ - INFO - üåê LANGUAGE SET: User 5462740970 ‚Üí english
2025-07-24 17:04:51,840 - __main__ - INFO - [LANG] User 5462740970 language detected: english
2025-07-24 17:04:51,840 - __main__ - INFO - [INTENT] Processing new message: Hello
2025-07-24 17:04:51,841 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Hello
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 17:04:52,321 - __main__ - INFO - üéØ [LLM] Intent Classification Response: greeting
2025-07-24 17:04:52,322 - __main__ - INFO - [INTENT] Detected intent: greeting
2025-07-24 17:04:52,934 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 17:04:56,350 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:04:56,353 - __main__ - INFO - [CALLBACK] Received from 5462740970: lang_english
2025-07-24 17:04:56,658 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 17:04:56,661 - __main__ - INFO - üåê LANGUAGE SET: User 5462740970 ‚Üí english
2025-07-24 17:04:56,975 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 17:04:58,478 - __main__ - INFO - [USER] New conversation started by user 5462740970
2025-07-24 17:04:58,818 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 17:05:01,842 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:05:01,847 - __main__ - INFO - [CALLBACK] Received from 5462740970: emergency
2025-07-24 17:05:02,168 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 17:05:02,475 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 17:05:02,476 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'location_request', 'service_type': 'emergency', 'stage': 'waiting_location'}
2025-07-24 17:05:02,805 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 17:05:03,130 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 17:05:05,709 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:05:05,713 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 17:05:05,715 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 17:05:05,718 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 17:05:05,719 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 17:05:05,720 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 17:05:05,721 - __main__ - INFO - [MSG] User 5462740970: ‚è≠Ô∏è Skip Location
2025-07-24 17:05:05,722 - __main__ - ERROR - ‚ùå Error in message handler: 'latitude'
2025-07-24 17:05:06,049 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 17:05:15,866 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:05:26,014 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:05:36,161 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:05:46,321 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:05:56,464 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:07:05,938 - __main__ - INFO - üìö Data files from Excel sheet loaded successfully
2025-07-24 17:07:05,939 - __main__ - WARNING - ‚ö†Ô∏è Google Sheets integration disabled or credentials file not configured
2025-07-24 17:07:05,939 - __main__ - INFO - üîí MULTI-USER SUPPORT: Thread-safe state management initialized
2025-07-24 17:07:06,508 - __main__ - INFO - üöÄ Starting Enhanced SmartGov Assistant Bot...
2025-07-24 17:07:07,271 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getMe "HTTP/1.1 200 OK"
2025-07-24 17:07:07,417 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/deleteWebhook "HTTP/1.1 200 OK"
2025-07-24 17:07:07,419 - telegram.ext.Application - INFO - Application started
2025-07-24 17:07:17,841 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:07:27,988 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:07:38,167 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:07:48,312 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:07:58,452 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:08:11,905 - __main__ - INFO - üìö Data files from Excel sheet loaded successfully
2025-07-24 17:08:11,906 - __main__ - WARNING - ‚ö†Ô∏è Google Sheets integration disabled or credentials file not configured
2025-07-24 17:08:11,906 - __main__ - INFO - üîí MULTI-USER SUPPORT: Thread-safe state management initialized
2025-07-24 17:08:12,492 - __main__ - INFO - üöÄ Starting Enhanced SmartGov Assistant Bot...
2025-07-24 17:08:12,975 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getMe "HTTP/1.1 200 OK"
2025-07-24 17:08:13,113 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/deleteWebhook "HTTP/1.1 200 OK"
2025-07-24 17:08:13,115 - telegram.ext.Application - INFO - Application started
2025-07-24 17:08:23,548 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:08:33,694 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:08:43,836 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:08:53,977 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:09:04,122 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:09:14,272 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:09:24,913 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:09:35,064 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:09:45,215 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:09:55,359 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:10:05,507 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:10:15,648 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:10:25,794 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:10:35,934 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:10:37,218 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:10:37,220 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 17:10:37,221 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 17:10:37,222 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 17:10:37,222 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 17:10:37,223 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 17:10:37,223 - __main__ - INFO - [MSG] User 5462740970: Hello
2025-07-24 17:10:37,224 - __main__ - INFO - üîç [LLM] Language Detection Prompt: Analyze this text and determine if it's English, Hindi, or Nepali.
            
            Text to analyze: "Hello"
            
            CRITICAL DETECTION RULES:
            
            HINDI INDICATORS (Romanized):
            - Key words: mereko, mujhe, main, aap, tum, karna, chahiye, hai, hain
            - Grammar: verb + hain/hai (karna hain, chahiye hai)
            - Pronouns: mereko, mujhe, main, aap, tum
            - Question words: kya, kaise, kahan, kab, kyun, kaun
            
            NEPALI INDICATORS (Romanized):
            - Key words: malai, ma, tapai, timi, garna, chahincha, chha, hun
            - Grammar: verb + chha/chhan (garna chha, chahincha)
            - Pronouns: malai, ma, tapai, timi
            - Question words: ke, kasari, kahaan, kahile, kina, ko
            
            ENGLISH INDICATORS:
            - Pure English vocabulary and grammar
            - No Hindi/Nepali words mixed in
            
            DECISION RULES:
            1. If text contains "mereko", "mujhe", "karna hain", "chahiye" ‚Üí HINDI
            2. If text contains "malai", "garna chha", "chahincha" ‚Üí NEPALI
            3. If text is pure English ‚Üí ENGLISH
            4. For mixed text, identify the dominant language based on grammar patterns
            
            Examples:
            - "Mereko ex gratia apply karna hain" ‚Üí HINDI (mereko + karna hain)
            - "Malai certificate apply garna chha" ‚Üí NEPALI (malai + garna chha)
            - "I want to apply for ex gratia" ‚Üí ENGLISH (pure English)
            
            Respond with EXACTLY one word: english, hindi, or nepali
2025-07-24 17:10:42,478 - __main__ - INFO - ü§ñ [LLM] Language Detection Response: english
2025-07-24 17:10:42,479 - __main__ - INFO - ‚úÖ Language detected by Qwen: english
2025-07-24 17:10:42,479 - __main__ - INFO - üåê LANGUAGE SET: User 5462740970 ‚Üí english
2025-07-24 17:10:42,480 - __main__ - INFO - [LANG] User 5462740970 language detected: english
2025-07-24 17:10:42,480 - __main__ - INFO - [INTENT] Processing new message: Hello
2025-07-24 17:10:42,480 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Hello
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 17:10:42,941 - __main__ - INFO - üéØ [LLM] Intent Classification Response: greeting
2025-07-24 17:10:42,942 - __main__ - INFO - [INTENT] Detected intent: greeting
2025-07-24 17:10:43,560 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 17:10:45,276 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:10:45,279 - __main__ - INFO - [CALLBACK] Received from 5462740970: lang_english
2025-07-24 17:10:45,588 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 17:10:45,589 - __main__ - INFO - üåê LANGUAGE SET: User 5462740970 ‚Üí english
2025-07-24 17:10:45,911 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 17:10:47,419 - __main__ - INFO - [USER] New conversation started by user 5462740970
2025-07-24 17:10:47,741 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 17:10:49,396 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:10:49,399 - __main__ - INFO - [CALLBACK] Received from 5462740970: emergency
2025-07-24 17:10:49,707 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 17:10:50,027 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 17:10:50,028 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'location_request', 'service_type': 'emergency', 'stage': 'waiting_location'}
2025-07-24 17:10:50,355 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 17:10:50,681 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 17:10:52,865 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:10:52,866 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 17:10:52,866 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 17:10:52,867 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 17:10:52,867 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 17:10:52,867 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 17:10:52,868 - __main__ - INFO - [MSG] User 5462740970: ‚è≠Ô∏è Skip Location
2025-07-24 17:10:53,196 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 17:10:53,198 - __main__ - INFO - üßπ STATE CLEARED: User 5462740970
2025-07-24 17:10:55,211 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:10:55,215 - __main__ - INFO - [CALLBACK] Received from 5462740970: main_menu
2025-07-24 17:10:55,527 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 17:10:55,528 - __main__ - INFO - [USER] New conversation started by user 5462740970
2025-07-24 17:10:55,908 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 17:10:57,669 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:10:57,672 - __main__ - INFO - [CALLBACK] Received from 5462740970: contacts
2025-07-24 17:10:58,007 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 17:10:58,431 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 17:11:01,153 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:11:01,156 - __main__ - INFO - [CALLBACK] Received from 5462740970: contacts_csc
2025-07-24 17:11:01,463 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 17:11:01,464 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'csc_search', 'step': 'gpu_input'}
2025-07-24 17:11:01,815 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 17:11:11,296 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:11:20,209 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:11:20,212 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 17:11:20,213 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 17:11:20,214 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 17:11:20,218 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 17:11:20,219 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 17:11:20,220 - __main__ - INFO - [MSG] User 5462740970: Karzi mangam
2025-07-24 17:11:20,220 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 17:11:20,222 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Karzi mangam
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 17:11:22,702 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 17:11:23,385 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 17:11:23,387 - __main__ - INFO - üßπ STATE CLEARED: User 5462740970
2025-07-24 17:11:30,437 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:11:40,580 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:11:50,796 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:12:00,940 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:12:11,084 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:12:21,236 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:12:31,381 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:12:41,526 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:12:44,361 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:12:44,366 - __main__ - INFO - [CALLBACK] Received from 5462740970: contacts
2025-07-24 17:12:44,956 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 17:12:45,277 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 17:12:46,917 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:12:46,920 - __main__ - INFO - [CALLBACK] Received from 5462740970: contacts_blo
2025-07-24 17:12:47,226 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 17:12:47,228 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'blo_search', 'step': 'polling_station'}
2025-07-24 17:12:47,556 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 17:12:57,064 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:13:07,207 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:13:17,349 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:13:27,491 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:13:38,144 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:13:48,287 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:13:58,431 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:14:08,579 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:14:17,395 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:14:17,397 - __main__ - INFO - [CALLBACK] Received from 5462740970: main_menu
2025-07-24 17:14:18,007 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 17:14:18,009 - __main__ - INFO - üßπ STATE CLEARED: User 5462740970
2025-07-24 17:14:18,009 - __main__ - INFO - [USER] New conversation started by user 5462740970
2025-07-24 17:14:18,341 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 17:14:20,377 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:14:20,379 - __main__ - INFO - [CALLBACK] Received from 5462740970: contacts
2025-07-24 17:14:20,683 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 17:14:21,012 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 17:14:29,569 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:14:29,572 - __main__ - INFO - [CALLBACK] Received from 5462740970: contacts_csc
2025-07-24 17:14:30,176 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 17:14:30,177 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'csc_search', 'step': 'gpu_input'}
2025-07-24 17:14:30,512 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 17:14:39,715 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:14:49,866 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:14:53,560 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:14:53,563 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 17:14:53,564 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 17:14:53,566 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 17:14:53,569 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 17:14:53,570 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 17:14:53,571 - __main__ - INFO - [MSG] User 5462740970: Tashiding
2025-07-24 17:14:53,571 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 17:14:53,573 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Tashiding
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 17:14:56,037 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 17:14:56,687 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 17:14:56,689 - __main__ - INFO - üßπ STATE CLEARED: User 5462740970
2025-07-24 17:15:03,719 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:15:13,867 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:15:24,012 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:15:34,154 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:15:44,305 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:15:54,449 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:16:04,596 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:16:14,741 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:16:24,899 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:16:35,043 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:16:45,188 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:16:55,339 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:17:05,482 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:17:15,631 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:17:25,777 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:17:35,923 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:17:46,066 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:17:56,211 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:18:06,355 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:18:16,501 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:18:26,647 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:18:36,790 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:18:46,931 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:18:57,075 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:19:07,245 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:19:17,392 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:19:27,535 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:19:37,682 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:19:47,835 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:19:57,991 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:20:08,135 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:20:18,280 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:20:40,921 - __main__ - INFO - üìö Data files from Excel sheet loaded successfully
2025-07-24 17:20:40,922 - __main__ - WARNING - ‚ö†Ô∏è Google Sheets integration disabled or credentials file not configured
2025-07-24 17:20:40,922 - __main__ - INFO - üîí MULTI-USER SUPPORT: Thread-safe state management initialized
2025-07-24 17:20:41,517 - __main__ - INFO - üöÄ Starting Enhanced SmartGov Assistant Bot...
2025-07-24 17:20:42,011 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getMe "HTTP/1.1 200 OK"
2025-07-24 17:20:42,156 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/deleteWebhook "HTTP/1.1 200 OK"
2025-07-24 17:20:42,159 - telegram.ext.Application - INFO - Application started
2025-07-24 17:20:52,582 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:21:02,729 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:21:12,870 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:21:23,011 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:21:33,151 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:21:43,294 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:21:53,439 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:22:03,577 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:22:13,722 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:22:23,861 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:22:34,006 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:22:44,147 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:22:54,289 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:23:04,430 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:23:14,574 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:23:24,715 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:23:34,855 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:23:44,996 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:23:55,136 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:24:05,275 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:24:15,417 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:24:25,564 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:24:35,705 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:24:45,851 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:24:55,988 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:25:06,143 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:25:16,283 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:25:26,428 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:25:36,573 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:25:46,715 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:25:56,856 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:26:07,000 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:26:17,148 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:26:27,290 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:26:37,430 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:26:47,572 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:26:57,718 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:27:04,054 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:27:04,056 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 17:27:04,057 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 17:27:04,057 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 17:27:04,058 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 17:27:04,058 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 17:27:04,058 - __main__ - INFO - [MSG] User 5462740970: Hello
2025-07-24 17:27:04,058 - __main__ - INFO - üîç [LLM] Language Detection Prompt: Analyze this text and determine if it's English, Hindi, or Nepali.
            
            Text to analyze: "Hello"
            
            CRITICAL DETECTION RULES:
            
            HINDI INDICATORS (Romanized):
            - Key words: mereko, mujhe, main, aap, tum, karna, chahiye, hai, hain
            - Grammar: verb + hain/hai (karna hain, chahiye hai)
            - Pronouns: mereko, mujhe, main, aap, tum
            - Question words: kya, kaise, kahan, kab, kyun, kaun
            
            NEPALI INDICATORS (Romanized):
            - Key words: malai, ma, tapai, timi, garna, chahincha, chha, hun
            - Grammar: verb + chha/chhan (garna chha, chahincha)
            - Pronouns: malai, ma, tapai, timi
            - Question words: ke, kasari, kahaan, kahile, kina, ko
            
            ENGLISH INDICATORS:
            - Pure English vocabulary and grammar
            - No Hindi/Nepali words mixed in
            
            DECISION RULES:
            1. If text contains "mereko", "mujhe", "karna hain", "chahiye" ‚Üí HINDI
            2. If text contains "malai", "garna chha", "chahincha" ‚Üí NEPALI
            3. If text is pure English ‚Üí ENGLISH
            4. For mixed text, identify the dominant language based on grammar patterns
            
            Examples:
            - "Mereko ex gratia apply karna hain" ‚Üí HINDI (mereko + karna hain)
            - "Malai certificate apply garna chha" ‚Üí NEPALI (malai + garna chha)
            - "I want to apply for ex gratia" ‚Üí ENGLISH (pure English)
            
            Respond with EXACTLY one word: english, hindi, or nepali
2025-07-24 17:27:09,218 - __main__ - INFO - ü§ñ [LLM] Language Detection Response: english
2025-07-24 17:27:09,218 - __main__ - INFO - ‚úÖ Language detected by Qwen: english
2025-07-24 17:27:09,218 - __main__ - INFO - üåê LANGUAGE SET: User 5462740970 ‚Üí english
2025-07-24 17:27:09,218 - __main__ - INFO - [LANG] User 5462740970 language detected: english
2025-07-24 17:27:09,219 - __main__ - INFO - [INTENT] Processing new message: Hello
2025-07-24 17:27:09,219 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Hello
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 17:27:09,665 - __main__ - INFO - üéØ [LLM] Intent Classification Response: greeting
2025-07-24 17:27:09,665 - __main__ - INFO - [INTENT] Detected intent: greeting
2025-07-24 17:27:10,310 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 17:27:13,321 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:27:13,323 - __main__ - INFO - [CALLBACK] Received from 5462740970: lang_english
2025-07-24 17:27:13,628 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 17:27:13,629 - __main__ - INFO - üåê LANGUAGE SET: User 5462740970 ‚Üí english
2025-07-24 17:27:13,947 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 17:27:15,450 - __main__ - INFO - [USER] New conversation started by user 5462740970
2025-07-24 17:27:15,781 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 17:27:23,451 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:27:23,453 - __main__ - INFO - [CALLBACK] Received from 5462740970: complaint
2025-07-24 17:27:24,054 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 17:27:24,055 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'complaint', 'step': 'name'}
2025-07-24 17:27:24,378 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 17:27:27,861 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:27:27,864 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 17:27:27,865 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 17:27:27,867 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 17:27:27,867 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 17:27:27,868 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 17:27:27,869 - __main__ - INFO - [MSG] User 5462740970: Ghhuuh
2025-07-24 17:27:27,870 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 17:27:27,870 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Ghhuuh
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 17:27:30,386 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 17:27:30,387 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'complaint', 'step': 'mobile', 'telegram_username': 'Abhishek', 'entered_name': 'Ghhuuh', 'name': 'Ghhuuh (@Abhishek)'}
2025-07-24 17:27:30,978 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 17:27:38,011 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:27:38,200 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:27:38,203 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 17:27:38,204 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 17:27:38,204 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 17:27:38,205 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 17:27:38,205 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 17:27:38,205 - __main__ - INFO - [MSG] User 5462740970: 8888888888
2025-07-24 17:27:38,205 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 17:27:38,206 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: 8888888888
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 17:27:38,805 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 17:27:38,805 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'complaint', 'step': 'complaint', 'telegram_username': 'Abhishek', 'entered_name': 'Ghhuuh', 'name': 'Ghhuuh (@Abhishek)', 'mobile': '8888888888'}
2025-07-24 17:27:39,445 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 17:27:47,209 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:27:47,211 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 17:27:47,212 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 17:27:47,213 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 17:27:47,214 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 17:27:47,214 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 17:27:47,214 - __main__ - INFO - [MSG] User 5462740970: Hsihdjdj dmd
2025-07-24 17:27:47,216 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 17:27:47,217 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Hsihdjdj dmd
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 17:27:47,585 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 17:27:47,585 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'complaint', 'step': 'location', 'telegram_username': 'Abhishek', 'entered_name': 'Ghhuuh', 'name': 'Ghhuuh (@Abhishek)', 'mobile': '8888888888', 'complaint_description': 'Hsihdjdj dmd'}
2025-07-24 17:27:47,585 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'location_request', 'service_type': 'complaint', 'stage': 'waiting_location'}
2025-07-24 17:27:48,189 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 17:27:57,360 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:27:58,363 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:27:58,365 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 17:27:58,367 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 17:27:58,368 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 17:27:58,369 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 17:27:58,369 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 17:27:58,369 - __main__ - INFO - [MSG] User 5462740970: üìù Type Location Name
2025-07-24 17:27:58,370 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'manual_location_name', 'service_type': 'complaint', 'stage': 'waiting_location', 'step': 'location_name'}
2025-07-24 17:27:58,510 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:27:58,998 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 17:27:59,000 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 17:27:59,000 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 17:27:59,001 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 17:27:59,002 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 17:27:59,002 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 17:27:59,003 - __main__ - INFO - [MSG] User 5462740970: Hsihdnd
2025-07-24 17:27:59,003 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 17:27:59,003 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Hsihdnd
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 17:27:59,380 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 17:27:59,729 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 17:27:59,731 - __main__ - INFO - üßπ STATE CLEARED: User 5462740970
2025-07-24 17:28:07,581 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:28:07,585 - __main__ - INFO - [CALLBACK] Received from 5462740970: main_menu
2025-07-24 17:28:08,246 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 17:28:08,247 - __main__ - INFO - [USER] New conversation started by user 5462740970
2025-07-24 17:28:08,583 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 17:28:17,727 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:28:27,869 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:28:38,009 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:28:48,148 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:28:58,287 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:29:08,433 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:29:18,589 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:29:28,730 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:29:38,961 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:29:49,107 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:29:59,247 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:30:09,402 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:30:19,541 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:30:29,685 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:30:39,826 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:30:49,967 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:31:00,108 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:31:10,308 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:31:14,382 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:31:14,385 - __main__ - INFO - [CALLBACK] Received from 5462740970: schemes
2025-07-24 17:31:15,087 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 17:31:15,423 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 17:31:24,633 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:31:34,876 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:31:45,115 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:31:55,357 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:32:05,522 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:32:15,717 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:32:25,869 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:32:36,154 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:32:46,311 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:32:56,489 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:33:06,632 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:33:16,831 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:33:26,979 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:33:37,141 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:33:47,380 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:33:56,290 - __main__ - INFO - üìö Data files from Excel sheet loaded successfully
2025-07-24 17:33:56,291 - __main__ - WARNING - ‚ö†Ô∏è Google Sheets integration disabled or credentials file not configured
2025-07-24 17:33:56,291 - __main__ - INFO - üîí MULTI-USER SUPPORT: Thread-safe state management initialized
2025-07-24 17:33:56,923 - __main__ - INFO - üöÄ Starting Enhanced SmartGov Assistant Bot...
2025-07-24 17:33:57,434 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getMe "HTTP/1.1 200 OK"
2025-07-24 17:33:57,588 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/deleteWebhook "HTTP/1.1 200 OK"
2025-07-24 17:33:57,592 - telegram.ext.Application - INFO - Application started
2025-07-24 17:34:08,018 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:34:18,203 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:34:28,350 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:34:38,580 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:34:48,725 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:34:58,864 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:35:09,097 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:35:19,336 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:35:29,576 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:35:39,718 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:35:49,858 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:36:00,091 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:36:10,332 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:36:20,475 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:36:30,621 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:36:40,803 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:36:50,952 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:37:01,146 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:37:11,361 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:37:21,602 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:37:31,746 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:37:41,915 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:37:52,061 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:38:02,204 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:38:12,358 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:38:22,512 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:38:32,660 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:38:42,804 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:38:52,944 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:39:03,091 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:39:13,231 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:39:23,381 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:39:33,522 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:39:43,665 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:39:53,810 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:40:03,953 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:40:14,096 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:40:24,242 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:40:34,385 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:40:44,532 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:40:54,674 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:41:04,894 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:41:15,037 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:41:25,283 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:41:35,424 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:41:45,636 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:41:55,779 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:42:05,922 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:42:16,062 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:42:26,202 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:42:36,355 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:42:46,500 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:42:56,641 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:43:06,786 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:43:16,973 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:43:27,116 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:43:37,375 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:43:47,522 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:43:57,662 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:44:07,808 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:44:17,967 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:44:28,111 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:44:38,255 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:44:48,402 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:44:58,547 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:45:08,693 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:45:18,837 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:45:28,986 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:45:39,129 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:45:49,271 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:45:59,443 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:46:09,586 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:46:19,733 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:46:29,880 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:46:40,244 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:46:50,438 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:47:00,585 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:47:10,733 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:47:20,954 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:47:31,102 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:47:41,242 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:47:51,469 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:48:01,617 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:48:11,757 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:48:21,901 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:48:32,081 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:48:42,225 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:48:52,363 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:49:02,503 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:49:12,652 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:49:22,807 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:49:32,963 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:49:43,104 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:49:53,248 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:50:03,389 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:50:13,534 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:50:23,682 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:50:33,876 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:50:44,018 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:50:54,160 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:51:04,703 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:51:14,856 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:51:25,001 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:51:35,141 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:51:45,277 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:51:55,413 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:52:05,552 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:52:15,693 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:52:25,838 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:52:35,998 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:52:46,164 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:52:56,303 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:53:06,455 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:53:16,601 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:53:29,286 - __main__ - INFO - üìö Data files from Excel sheet loaded successfully
2025-07-24 17:53:29,288 - __main__ - WARNING - ‚ö†Ô∏è Google Sheets integration disabled or credentials file not configured
2025-07-24 17:53:29,288 - __main__ - INFO - üîí MULTI-USER SUPPORT: Thread-safe state management initialized
2025-07-24 17:53:29,973 - __main__ - INFO - üöÄ Starting Enhanced SmartGov Assistant Bot...
2025-07-24 17:53:30,432 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getMe "HTTP/1.1 200 OK"
2025-07-24 17:53:30,576 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/deleteWebhook "HTTP/1.1 200 OK"
2025-07-24 17:53:30,579 - telegram.ext.Application - INFO - Application started
2025-07-24 17:53:41,003 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:53:51,167 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:54:01,315 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:54:33,050 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:54:43,267 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:54:53,473 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:55:03,682 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:55:14,015 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:55:24,286 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:55:34,507 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:55:44,725 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:55:54,933 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:56:05,140 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:56:15,374 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:56:25,630 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:56:35,838 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:56:46,047 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:56:56,260 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:57:06,474 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:57:16,688 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:57:26,895 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:57:37,207 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:57:47,414 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:57:57,623 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:58:07,833 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:58:18,161 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:58:28,377 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:58:38,590 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:58:49,821 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:59:00,038 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:59:10,250 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:59:20,522 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:59:30,729 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:59:40,939 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 17:59:51,145 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:00:01,383 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:00:11,592 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:00:21,815 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:00:32,024 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:00:42,335 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:00:52,543 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:01:02,751 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:01:12,956 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:01:23,166 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:01:33,377 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:01:43,589 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:01:53,815 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:02:04,023 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:02:14,231 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:02:24,454 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:02:34,666 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:02:44,951 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:02:55,159 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:03:05,374 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:03:15,659 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:03:25,871 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:03:36,145 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:03:46,367 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:03:56,615 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:04:06,822 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:04:17,053 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:04:27,262 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:04:37,551 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:04:55,905 - __main__ - INFO - üìö Data files from Excel sheet loaded successfully
2025-07-24 18:04:55,906 - __main__ - WARNING - ‚ö†Ô∏è Google Sheets integration disabled or credentials file not configured
2025-07-24 18:04:55,906 - __main__ - INFO - üîó NC Exgratia API client initialized
2025-07-24 18:04:55,906 - __main__ - INFO - üîí MULTI-USER SUPPORT: Thread-safe state management initialized
2025-07-24 18:04:56,621 - __main__ - INFO - üöÄ Starting Enhanced SmartGov Assistant Bot...
2025-07-24 18:04:57,107 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getMe "HTTP/1.1 200 OK"
2025-07-24 18:04:57,256 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/deleteWebhook "HTTP/1.1 200 OK"
2025-07-24 18:04:57,260 - telegram.ext.Application - INFO - Application started
2025-07-24 18:05:07,701 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:05:17,853 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:05:28,004 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:05:38,156 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:05:48,462 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:05:58,641 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:06:08,891 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:06:19,133 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:06:29,310 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:06:33,349 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:06:33,353 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:06:33,353 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:06:33,355 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:06:33,356 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:06:33,357 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:06:33,358 - __main__ - INFO - [MSG] User 5462740970: Hello
2025-07-24 18:06:33,360 - __main__ - INFO - üîç [LLM] Language Detection Prompt: Analyze this text and determine if it's English, Hindi, or Nepali.
            
            Text to analyze: "Hello"
            
            CRITICAL DETECTION RULES:
            
            HINDI INDICATORS (Romanized):
            - Key words: mereko, mujhe, main, aap, tum, karna, chahiye, hai, hain
            - Grammar: verb + hain/hai (karna hain, chahiye hai)
            - Pronouns: mereko, mujhe, main, aap, tum
            - Question words: kya, kaise, kahan, kab, kyun, kaun
            
            NEPALI INDICATORS (Romanized):
            - Key words: malai, ma, tapai, timi, garna, chahincha, chha, hun
            - Grammar: verb + chha/chhan (garna chha, chahincha)
            - Pronouns: malai, ma, tapai, timi
            - Question words: ke, kasari, kahaan, kahile, kina, ko
            
            ENGLISH INDICATORS:
            - Pure English vocabulary and grammar
            - No Hindi/Nepali words mixed in
            
            DECISION RULES:
            1. If text contains "mereko", "mujhe", "karna hain", "chahiye" ‚Üí HINDI
            2. If text contains "malai", "garna chha", "chahincha" ‚Üí NEPALI
            3. If text is pure English ‚Üí ENGLISH
            4. For mixed text, identify the dominant language based on grammar patterns
            
            Examples:
            - "Mereko ex gratia apply karna hain" ‚Üí HINDI (mereko + karna hain)
            - "Malai certificate apply garna chha" ‚Üí NEPALI (malai + garna chha)
            - "I want to apply for ex gratia" ‚Üí ENGLISH (pure English)
            
            Respond with EXACTLY one word: english, hindi, or nepali
2025-07-24 18:06:39,553 - __main__ - INFO - ü§ñ [LLM] Language Detection Response: english
2025-07-24 18:06:39,553 - __main__ - INFO - ‚úÖ Language detected by Qwen: english
2025-07-24 18:06:39,554 - __main__ - INFO - üåê LANGUAGE SET: User 5462740970 ‚Üí english
2025-07-24 18:06:39,554 - __main__ - INFO - [LANG] User 5462740970 language detected: english
2025-07-24 18:06:39,555 - __main__ - INFO - [INTENT] Processing new message: Hello
2025-07-24 18:06:39,555 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Hello
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:06:40,040 - __main__ - INFO - üéØ [LLM] Intent Classification Response: greeting
2025-07-24 18:06:40,041 - __main__ - INFO - [INTENT] Detected intent: greeting
2025-07-24 18:06:40,811 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:06:43,511 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:06:47,057 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:06:47,061 - __main__ - INFO - [CALLBACK] Received from 5462740970: lang_english
2025-07-24 18:06:47,814 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 18:06:47,815 - __main__ - INFO - üåê LANGUAGE SET: User 5462740970 ‚Üí english
2025-07-24 18:06:48,143 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 18:06:49,650 - __main__ - INFO - [USER] New conversation started by user 5462740970
2025-07-24 18:06:49,987 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 18:06:57,213 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:06:57,483 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:06:57,487 - __main__ - INFO - [CALLBACK] Received from 5462740970: disaster
2025-07-24 18:06:58,087 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 18:06:58,463 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 18:07:01,363 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:07:01,367 - __main__ - INFO - [CALLBACK] Received from 5462740970: ex_gratia
2025-07-24 18:07:01,675 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 18:07:01,999 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 18:07:04,102 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:07:04,104 - __main__ - INFO - [CALLBACK] Received from 5462740970: ex_gratia_start
2025-07-24 18:07:04,560 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 18:07:04,561 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'name'}
2025-07-24 18:07:05,048 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 18:07:09,707 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:07:09,710 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:07:09,711 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:07:09,712 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:07:09,713 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:07:09,714 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:07:09,714 - __main__ - INFO - [MSG] User 5462740970: Ghgtg
2025-07-24 18:07:09,715 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 18:07:09,715 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Ghgtg
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:07:12,197 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 18:07:12,197 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'father_name', 'data': {'name': 'Ghgtg'}}
2025-07-24 18:07:12,996 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:07:16,018 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:07:16,020 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:07:16,020 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:07:16,021 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:07:16,021 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:07:16,021 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:07:16,023 - __main__ - INFO - [MSG] User 5462740970: Hujj
2025-07-24 18:07:16,023 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 18:07:16,023 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Hujj
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:07:16,403 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 18:07:16,403 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'village', 'data': {'name': 'Ghgtg', 'father_name': 'Hujj'}}
2025-07-24 18:07:16,783 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:07:26,174 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:07:27,738 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:07:27,742 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:07:27,743 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:07:27,743 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:07:27,744 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:07:27,744 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:07:27,744 - __main__ - INFO - [MSG] User 5462740970: Ujhyhjj
2025-07-24 18:07:27,744 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 18:07:27,745 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Ujhyhjj
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:07:28,194 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 18:07:28,194 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'contact', 'data': {'name': 'Ghgtg', 'father_name': 'Hujj', 'village': 'Ujhyhjj'}}
2025-07-24 18:07:28,971 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:07:37,892 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:07:38,144 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:07:38,147 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:07:38,147 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:07:38,149 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:07:38,149 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:07:38,149 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:07:38,150 - __main__ - INFO - [MSG] User 5462740970: 8888888888
2025-07-24 18:07:38,150 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 18:07:38,150 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: 8888888888
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:07:38,593 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 18:07:38,593 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'voter_id', 'data': {'name': 'Ghgtg', 'father_name': 'Hujj', 'village': 'Ujhyhjj', 'contact': '8888888888'}}
2025-07-24 18:07:39,200 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:07:45,151 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:07:45,155 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:07:45,156 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:07:45,157 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:07:45,157 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:07:45,158 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:07:45,158 - __main__ - INFO - [MSG] User 5462740970: 898
2025-07-24 18:07:45,158 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 18:07:45,158 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: 898
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:07:45,588 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 18:07:45,588 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'ward', 'data': {'name': 'Ghgtg', 'father_name': 'Hujj', 'village': 'Ujhyhjj', 'contact': '8888888888', 'voter_id': '898'}}
2025-07-24 18:07:46,351 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:07:53,650 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:07:53,654 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:07:53,655 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:07:53,656 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:07:53,657 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:07:53,657 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:07:53,657 - __main__ - INFO - [MSG] User 5462740970: 787
2025-07-24 18:07:53,659 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 18:07:53,660 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: 787
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:07:54,181 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 18:07:54,182 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'gpu', 'data': {'name': 'Ghgtg', 'father_name': 'Hujj', 'village': 'Ujhyhjj', 'contact': '8888888888', 'voter_id': '898', 'ward': '787'}}
2025-07-24 18:07:54,806 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:07:58,225 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:07:58,228 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:07:58,228 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:07:58,230 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:07:58,230 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:07:58,231 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:07:58,231 - __main__ - INFO - [MSG] User 5462740970: 787
2025-07-24 18:07:58,232 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 18:07:58,232 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: 787
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:07:58,761 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 18:07:58,762 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'district', 'data': {'name': 'Ghgtg', 'father_name': 'Hujj', 'village': 'Ujhyhjj', 'contact': '8888888888', 'voter_id': '898', 'ward': '787', 'gpu': '787'}}
2025-07-24 18:07:59,364 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:08:02,658 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:08:02,662 - __main__ - INFO - [CALLBACK] Received from 5462740970: district_east
2025-07-24 18:08:03,071 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 18:08:03,072 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'khatiyan', 'data': {'name': 'Ghgtg', 'father_name': 'Hujj', 'village': 'Ujhyhjj', 'contact': '8888888888', 'voter_id': '898', 'ward': '787', 'gpu': '787', 'district': 'East Sikkim'}}
2025-07-24 18:08:03,478 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 18:08:08,498 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:08:08,500 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:08:08,502 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:08:08,503 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:08:08,503 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:08:08,503 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:08:08,504 - __main__ - INFO - [MSG] User 5462740970: 787
2025-07-24 18:08:08,505 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 18:08:08,505 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: 787
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:08:08,960 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 18:08:08,960 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'plot', 'data': {'name': 'Ghgtg', 'father_name': 'Hujj', 'village': 'Ujhyhjj', 'contact': '8888888888', 'voter_id': '898', 'ward': '787', 'gpu': '787', 'district': 'East Sikkim', 'khatiyan_no': '787'}}
2025-07-24 18:08:09,829 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:08:18,737 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:08:23,551 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:08:23,553 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:08:23,553 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:08:23,554 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:08:23,555 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:08:23,555 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:08:23,555 - __main__ - INFO - [MSG] User 5462740970: 877
2025-07-24 18:08:23,556 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 18:08:23,556 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: 877
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:08:23,981 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 18:08:23,981 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'nc_datetime', 'data': {'name': 'Ghgtg', 'father_name': 'Hujj', 'village': 'Ujhyhjj', 'contact': '8888888888', 'voter_id': '898', 'ward': '787', 'gpu': '787', 'district': 'East Sikkim', 'khatiyan_no': '787', 'plot_no': '877'}}
2025-07-24 18:08:24,884 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:08:33,706 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:08:43,871 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:08:50,584 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:08:50,586 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:08:50,586 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:08:50,586 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:08:50,587 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:08:50,587 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:08:50,587 - __main__ - INFO - [MSG] User 5462740970: 14/10/2024 15:30
2025-07-24 18:08:50,587 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 18:08:50,587 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: 14/10/2024 15:30
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:08:53,164 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 18:08:53,165 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'damage_type', 'data': {'name': 'Ghgtg', 'father_name': 'Hujj', 'village': 'Ujhyhjj', 'contact': '8888888888', 'voter_id': '898', 'ward': '787', 'gpu': '787', 'district': 'East Sikkim', 'khatiyan_no': '787', 'plot_no': '877', 'nc_datetime': '2024-10-14T15:30:00'}}
2025-07-24 18:08:53,812 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:08:58,011 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:08:58,015 - __main__ - INFO - [CALLBACK] Received from 5462740970: damage_type_house
2025-07-24 18:08:58,331 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 18:08:58,333 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'damage_description', 'data': {'name': 'Ghgtg', 'father_name': 'Hujj', 'village': 'Ujhyhjj', 'contact': '8888888888', 'voter_id': '898', 'ward': '787', 'gpu': '787', 'district': 'East Sikkim', 'khatiyan_no': '787', 'plot_no': '877', 'nc_datetime': '2024-10-14T15:30:00', 'damage_type': 'üè† House Damage'}}
2025-07-24 18:08:58,653 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 18:09:03,283 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:09:03,286 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:09:03,287 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:09:03,288 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:09:03,288 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:09:03,288 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:09:03,290 - __main__ - INFO - [MSG] User 5462740970: 7‚Çπ))&&
2025-07-24 18:09:03,290 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 18:09:03,290 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: 7‚Çπ))&&
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:09:03,761 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 18:09:03,762 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'location', 'data': {'name': 'Ghgtg', 'father_name': 'Hujj', 'village': 'Ujhyhjj', 'contact': '8888888888', 'voter_id': '898', 'ward': '787', 'gpu': '787', 'district': 'East Sikkim', 'khatiyan_no': '787', 'plot_no': '877', 'nc_datetime': '2024-10-14T15:30:00', 'damage_type': 'üè† House Damage', 'damage_description': '7‚Çπ))&&'}}
2025-07-24 18:09:03,762 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'location_request', 'service_type': 'ex_gratia', 'stage': 'waiting_location'}
2025-07-24 18:09:03,763 - __main__ - ERROR - ‚ùå Error in message handler: cannot access local variable 'message' where it is not associated with a value
2025-07-24 18:09:04,509 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:09:13,694 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:09:23,845 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:09:33,994 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:09:44,140 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:09:54,444 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:10:04,617 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:10:14,860 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:10:25,053 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:10:35,235 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:10:44,968 - __main__ - INFO - üìö Data files from Excel sheet loaded successfully
2025-07-24 18:10:44,969 - __main__ - WARNING - ‚ö†Ô∏è Google Sheets integration disabled or credentials file not configured
2025-07-24 18:10:44,970 - __main__ - INFO - üîó NC Exgratia API client initialized
2025-07-24 18:10:44,970 - __main__ - INFO - üîí MULTI-USER SUPPORT: Thread-safe state management initialized
2025-07-24 18:10:45,640 - __main__ - INFO - üöÄ Starting Enhanced SmartGov Assistant Bot...
2025-07-24 18:10:46,202 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getMe "HTTP/1.1 200 OK"
2025-07-24 18:10:46,356 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/deleteWebhook "HTTP/1.1 200 OK"
2025-07-24 18:10:46,360 - telegram.ext.Application - INFO - Application started
2025-07-24 18:10:56,944 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:11:07,085 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:11:17,236 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:11:27,377 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:11:37,521 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:11:47,740 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:11:57,884 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:12:08,113 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:12:18,353 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:12:28,594 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:12:38,733 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:12:48,934 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:12:59,078 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:13:09,246 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:13:19,484 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:13:29,625 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:13:39,865 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:13:50,007 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:14:00,160 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:14:10,304 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:14:20,516 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:14:30,665 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:14:40,808 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:14:50,953 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:15:01,092 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:15:11,236 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:15:21,446 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:15:31,585 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:15:41,725 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:15:51,958 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:16:02,096 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:16:12,338 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:16:22,480 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:16:32,716 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:16:42,856 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:16:52,998 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:17:03,142 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:17:13,306 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:17:23,456 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:17:33,643 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:17:43,886 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:17:54,126 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:18:04,269 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:18:14,413 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:18:24,554 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:18:34,696 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:18:44,835 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:18:54,977 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:19:05,191 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:19:15,433 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:19:25,574 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:19:35,739 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:19:45,898 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:19:56,042 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:20:06,185 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:20:16,323 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:20:26,484 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:20:36,624 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:20:46,766 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:20:57,011 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:21:07,156 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:21:17,297 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:21:27,440 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:21:37,664 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:21:47,947 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:21:58,089 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:22:08,230 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:22:18,385 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:22:28,550 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:22:38,796 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:22:48,943 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:22:59,117 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:23:09,259 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:23:19,469 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:23:29,693 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:23:39,932 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:23:50,174 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:24:00,316 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:24:10,465 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:24:20,607 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:24:30,748 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:24:40,899 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:24:51,098 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:25:01,338 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:25:11,480 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:25:21,716 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:25:31,861 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:25:42,000 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:25:52,242 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:26:02,383 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:26:12,528 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:26:22,673 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:26:32,883 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:26:43,025 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:26:53,164 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:27:03,326 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:27:13,536 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:27:23,675 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:27:33,914 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:27:44,155 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:27:54,712 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:28:04,860 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:28:15,078 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:28:25,227 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:28:35,371 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:28:45,536 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:28:55,680 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:29:05,828 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:29:15,984 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:29:26,128 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:29:36,283 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:29:46,428 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:29:56,573 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:30:06,798 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:30:16,944 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:30:27,160 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:30:37,418 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:30:47,566 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:30:57,714 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:31:07,888 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:31:18,069 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:31:28,214 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:31:38,407 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:31:48,552 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:31:58,696 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:32:08,865 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:32:19,014 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:32:29,159 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:32:39,311 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:32:49,463 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:32:59,652 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:33:09,807 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:33:19,976 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:33:30,134 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:33:40,277 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:33:50,441 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:34:00,590 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:34:10,731 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:34:20,880 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:34:31,093 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:34:41,544 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:34:51,691 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:35:01,894 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:35:12,053 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:35:22,205 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:35:32,431 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:35:42,612 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:35:52,808 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:36:03,006 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:36:13,185 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:36:23,535 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:36:33,681 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:36:43,822 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:36:54,047 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:37:04,191 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:37:14,364 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:37:24,505 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:37:34,650 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:37:44,798 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:37:54,940 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:38:05,080 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:38:15,248 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:38:25,397 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:38:35,542 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:38:45,684 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:38:55,834 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:39:05,998 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:39:16,147 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:39:26,304 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:39:36,527 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:39:46,673 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:39:56,869 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:40:07,009 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:40:17,153 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:40:27,298 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:40:37,886 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:40:48,032 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:40:58,178 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:41:08,342 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:41:18,487 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:41:28,685 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:41:38,832 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:41:49,061 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:41:59,260 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:42:09,404 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:42:19,573 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:42:29,721 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:42:39,868 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:42:50,012 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:43:00,159 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:43:10,306 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:43:20,455 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:43:30,602 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:43:40,779 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:43:50,919 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:44:01,158 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:44:11,399 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:44:21,544 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:44:31,775 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:44:41,924 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:44:52,374 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:45:02,523 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:45:12,666 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:45:20,550 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:45:20,577 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:45:20,578 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:45:20,600 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:45:20,608 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:45:20,609 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:45:20,610 - __main__ - INFO - [MSG] User 5462740970: Hello
2025-07-24 18:45:20,612 - __main__ - INFO - üîç [LLM] Language Detection Prompt: Analyze this text and determine if it's English, Hindi, or Nepali.
            
            Text to analyze: "Hello"
            
            CRITICAL DETECTION RULES:
            
            HINDI INDICATORS (Romanized):
            - Key words: mereko, mujhe, main, aap, tum, karna, chahiye, hai, hain
            - Grammar: verb + hain/hai (karna hain, chahiye hai)
            - Pronouns: mereko, mujhe, main, aap, tum
            - Question words: kya, kaise, kahan, kab, kyun, kaun
            
            NEPALI INDICATORS (Romanized):
            - Key words: malai, ma, tapai, timi, garna, chahincha, chha, hun
            - Grammar: verb + chha/chhan (garna chha, chahincha)
            - Pronouns: malai, ma, tapai, timi
            - Question words: ke, kasari, kahaan, kahile, kina, ko
            
            ENGLISH INDICATORS:
            - Pure English vocabulary and grammar
            - No Hindi/Nepali words mixed in
            
            DECISION RULES:
            1. If text contains "mereko", "mujhe", "karna hain", "chahiye" ‚Üí HINDI
            2. If text contains "malai", "garna chha", "chahincha" ‚Üí NEPALI
            3. If text is pure English ‚Üí ENGLISH
            4. For mixed text, identify the dominant language based on grammar patterns
            
            Examples:
            - "Mereko ex gratia apply karna hain" ‚Üí HINDI (mereko + karna hain)
            - "Malai certificate apply garna chha" ‚Üí NEPALI (malai + garna chha)
            - "I want to apply for ex gratia" ‚Üí ENGLISH (pure English)
            
            Respond with EXACTLY one word: english, hindi, or nepali
2025-07-24 18:45:26,010 - __main__ - INFO - ü§ñ [LLM] Language Detection Response: english
2025-07-24 18:45:26,011 - __main__ - INFO - ‚úÖ Language detected by Qwen: english
2025-07-24 18:45:26,011 - __main__ - INFO - üåê LANGUAGE SET: User 5462740970 ‚Üí english
2025-07-24 18:45:26,011 - __main__ - INFO - [LANG] User 5462740970 language detected: english
2025-07-24 18:45:26,011 - __main__ - INFO - [INTENT] Processing new message: Hello
2025-07-24 18:45:26,012 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Hello
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:45:26,470 - __main__ - INFO - üéØ [LLM] Intent Classification Response: greeting
2025-07-24 18:45:26,470 - __main__ - INFO - [INTENT] Detected intent: greeting
2025-07-24 18:45:27,088 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:45:30,354 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:45:30,357 - __main__ - INFO - [CALLBACK] Received from 5462740970: lang_english
2025-07-24 18:45:30,664 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 18:45:30,664 - __main__ - INFO - üåê LANGUAGE SET: User 5462740970 ‚Üí english
2025-07-24 18:45:30,994 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 18:45:32,500 - __main__ - INFO - [USER] New conversation started by user 5462740970
2025-07-24 18:45:32,826 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 18:45:40,068 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:45:40,072 - __main__ - INFO - [CALLBACK] Received from 5462740970: disaster
2025-07-24 18:45:40,658 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 18:45:40,983 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 18:45:42,521 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:45:42,523 - __main__ - INFO - [CALLBACK] Received from 5462740970: ex_gratia
2025-07-24 18:45:42,827 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 18:45:43,155 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 18:45:44,276 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:45:44,278 - __main__ - INFO - [CALLBACK] Received from 5462740970: ex_gratia_start
2025-07-24 18:45:44,601 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 18:45:44,604 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'name'}
2025-07-24 18:45:44,922 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 18:45:49,066 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:45:49,069 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:45:49,069 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:45:49,071 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:45:49,072 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:45:49,073 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:45:49,074 - __main__ - INFO - [MSG] User 5462740970: Haish
2025-07-24 18:45:49,075 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 18:45:49,076 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Haish
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:45:51,627 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 18:45:51,627 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'father_name', 'data': {'name': 'Haish'}}
2025-07-24 18:45:52,466 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:45:55,990 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:45:55,992 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:45:55,993 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:45:55,994 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:45:55,994 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:45:55,994 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:45:55,995 - __main__ - INFO - [MSG] User 5462740970: Hdidh
2025-07-24 18:45:55,995 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 18:45:55,995 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Hdidh
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:45:56,430 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 18:45:56,431 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'village', 'data': {'name': 'Haish', 'father_name': 'Hdidh'}}
2025-07-24 18:45:56,767 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:46:00,660 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:46:00,663 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:46:00,664 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:46:00,665 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:46:00,665 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:46:00,666 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:46:00,666 - __main__ - INFO - [MSG] User 5462740970: Yubsh
2025-07-24 18:46:00,667 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 18:46:00,667 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Yubsh
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:46:01,225 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 18:46:01,225 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'contact', 'data': {'name': 'Haish', 'father_name': 'Hdidh', 'village': 'Yubsh'}}
2025-07-24 18:46:01,684 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:46:10,811 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:46:20,996 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:46:22,673 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:46:22,674 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:46:22,675 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:46:22,675 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:46:22,675 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:46:22,676 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:46:22,676 - __main__ - INFO - [MSG] User 5462740970: 8888888888
2025-07-24 18:46:22,676 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 18:46:22,676 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: 8888888888
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:46:25,222 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 18:46:25,222 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'voter_id', 'data': {'name': 'Haish', 'father_name': 'Hdidh', 'village': 'Yubsh', 'contact': '8888888888'}}
2025-07-24 18:46:26,005 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:46:32,914 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:46:43,155 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:46:51,143 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:46:51,146 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:46:51,147 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:46:51,147 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:46:51,148 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:46:51,148 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:46:51,149 - __main__ - INFO - [MSG] User 5462740970: 797
2025-07-24 18:46:51,149 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 18:46:51,150 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: 797
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:46:53,614 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 18:46:53,614 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'ward', 'data': {'name': 'Haish', 'father_name': 'Hdidh', 'village': 'Yubsh', 'contact': '8888888888', 'voter_id': '797'}}
2025-07-24 18:46:54,417 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:47:01,383 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:47:02,840 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:47:02,845 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:47:02,845 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:47:02,845 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:47:02,845 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:47:02,846 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:47:02,846 - __main__ - INFO - [MSG] User 5462740970: Uibuh
2025-07-24 18:47:02,847 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 18:47:02,848 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Uibuh
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:47:03,405 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 18:47:03,405 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'gpu', 'data': {'name': 'Haish', 'father_name': 'Hdidh', 'village': 'Yubsh', 'contact': '8888888888', 'voter_id': '797', 'ward': 'Uibuh'}}
2025-07-24 18:47:04,032 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:47:10,162 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:47:10,164 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:47:10,165 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:47:10,166 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:47:10,167 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:47:10,167 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:47:10,167 - __main__ - INFO - [MSG] User 5462740970: Ghyv
2025-07-24 18:47:10,168 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 18:47:10,168 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Ghyv
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:47:10,610 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 18:47:10,610 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'district', 'data': {'name': 'Haish', 'father_name': 'Hdidh', 'village': 'Yubsh', 'contact': '8888888888', 'voter_id': '797', 'ward': 'Uibuh', 'gpu': 'Ghyv'}}
2025-07-24 18:47:11,417 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:47:16,568 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:47:16,570 - __main__ - INFO - [CALLBACK] Received from 5462740970: district_west
2025-07-24 18:47:17,197 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 18:47:17,199 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'khatiyan', 'data': {'name': 'Haish', 'father_name': 'Hdidh', 'village': 'Yubsh', 'contact': '8888888888', 'voter_id': '797', 'ward': 'Uibuh', 'gpu': 'Ghyv', 'district': 'West Sikkim'}}
2025-07-24 18:47:17,564 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 18:47:23,703 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:47:23,706 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:47:23,706 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:47:23,707 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:47:23,707 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:47:23,707 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:47:23,707 - __main__ - INFO - [MSG] User 5462740970: 988
2025-07-24 18:47:23,707 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 18:47:23,707 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: 988
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:47:24,204 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 18:47:24,204 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'plot', 'data': {'name': 'Haish', 'father_name': 'Hdidh', 'village': 'Yubsh', 'contact': '8888888888', 'voter_id': '797', 'ward': 'Uibuh', 'gpu': 'Ghyv', 'district': 'West Sikkim', 'khatiyan_no': '988'}}
2025-07-24 18:47:25,037 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:47:33,850 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:47:43,993 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:47:45,003 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:47:45,005 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:47:45,006 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:47:45,008 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:47:45,008 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:47:45,008 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:47:45,008 - __main__ - INFO - [MSG] User 5462740970: 677
2025-07-24 18:47:45,008 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 18:47:45,010 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: 677
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:47:47,587 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 18:47:47,588 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'nc_datetime', 'data': {'name': 'Haish', 'father_name': 'Hdidh', 'village': 'Yubsh', 'contact': '8888888888', 'voter_id': '797', 'ward': 'Uibuh', 'gpu': 'Ghyv', 'district': 'West Sikkim', 'khatiyan_no': '988', 'plot_no': '677'}}
2025-07-24 18:47:48,385 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:47:55,245 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:47:57,703 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:47:57,706 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:47:57,706 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:47:57,707 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:47:57,707 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:47:57,707 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:47:57,708 - __main__ - INFO - [MSG] User 5462740970: 12/10/2024 4:30
2025-07-24 18:47:57,708 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 18:47:57,708 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: 12/10/2024 4:30
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:47:58,212 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 18:47:58,214 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'damage_type', 'data': {'name': 'Haish', 'father_name': 'Hdidh', 'village': 'Yubsh', 'contact': '8888888888', 'voter_id': '797', 'ward': 'Uibuh', 'gpu': 'Ghyv', 'district': 'West Sikkim', 'khatiyan_no': '988', 'plot_no': '677', 'nc_datetime': '2024-10-12T04:30:00'}}
2025-07-24 18:47:59,035 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:48:00,978 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:48:00,981 - __main__ - INFO - [CALLBACK] Received from 5462740970: damage_type_house
2025-07-24 18:48:01,387 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 18:48:01,388 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'damage_description', 'data': {'name': 'Haish', 'father_name': 'Hdidh', 'village': 'Yubsh', 'contact': '8888888888', 'voter_id': '797', 'ward': 'Uibuh', 'gpu': 'Ghyv', 'district': 'West Sikkim', 'khatiyan_no': '988', 'plot_no': '677', 'nc_datetime': '2024-10-12T04:30:00', 'damage_type': 'üè† House Damage'}}
2025-07-24 18:48:01,796 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 18:48:07,998 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:48:08,002 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:48:08,003 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:48:08,003 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:48:08,004 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:48:08,005 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:48:08,005 - __main__ - INFO - [MSG] User 5462740970: 7!jeuhdjdidj
2025-07-24 18:48:08,006 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 18:48:08,007 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: 7!jeuhdjdidj
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:48:08,398 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 18:48:08,398 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'location', 'data': {'name': 'Haish', 'father_name': 'Hdidh', 'village': 'Yubsh', 'contact': '8888888888', 'voter_id': '797', 'ward': 'Uibuh', 'gpu': 'Ghyv', 'district': 'West Sikkim', 'khatiyan_no': '988', 'plot_no': '677', 'nc_datetime': '2024-10-12T04:30:00', 'damage_type': 'üè† House Damage', 'damage_description': '7!jeuhdjdidj'}}
2025-07-24 18:48:08,398 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'location_request', 'service_type': 'ex_gratia', 'stage': 'waiting_location'}
2025-07-24 18:48:09,169 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:48:12,447 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:48:17,977 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:48:17,980 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:48:17,980 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:48:17,981 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:48:17,982 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:48:17,982 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:48:17,983 - __main__ - INFO - [MSG] User 5462740970: ‚è≠Ô∏è Skip Location
2025-07-24 18:48:17,983 - __main__ - INFO - üßπ STATE CLEARED: User 5462740970
2025-07-24 18:48:28,125 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:48:38,355 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:48:48,501 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:48:58,650 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:49:08,796 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:49:19,022 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:49:29,248 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:49:39,406 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:49:49,626 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:49:59,772 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:50:09,975 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:50:20,122 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:50:30,271 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:50:40,518 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:50:50,743 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:51:00,896 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:51:13,379 - __main__ - INFO - üìö Data files from Excel sheet loaded successfully
2025-07-24 18:51:13,380 - __main__ - WARNING - ‚ö†Ô∏è Google Sheets integration disabled or credentials file not configured
2025-07-24 18:51:13,380 - __main__ - INFO - üîó NC Exgratia API client initialized
2025-07-24 18:51:13,381 - __main__ - INFO - üîí MULTI-USER SUPPORT: Thread-safe state management initialized
2025-07-24 18:51:14,173 - __main__ - INFO - üöÄ Starting Enhanced SmartGov Assistant Bot...
2025-07-24 18:51:14,622 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getMe "HTTP/1.1 200 OK"
2025-07-24 18:51:14,758 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/deleteWebhook "HTTP/1.1 200 OK"
2025-07-24 18:51:14,762 - telegram.ext.Application - INFO - Application started
2025-07-24 18:51:25,267 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:51:35,413 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:51:45,560 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:51:55,718 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:52:05,920 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:52:16,159 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:52:26,303 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:52:36,537 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:52:42,991 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:52:42,994 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:52:42,995 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:52:43,000 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:52:43,000 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:52:43,001 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:52:43,002 - __main__ - INFO - [MSG] User 5462740970: Hello
2025-07-24 18:52:43,005 - __main__ - INFO - üîç [LLM] Language Detection Prompt: Analyze this text and determine if it's English, Hindi, or Nepali.
            
            Text to analyze: "Hello"
            
            CRITICAL DETECTION RULES:
            
            HINDI INDICATORS (Romanized):
            - Key words: mereko, mujhe, main, aap, tum, karna, chahiye, hai, hain
            - Grammar: verb + hain/hai (karna hain, chahiye hai)
            - Pronouns: mereko, mujhe, main, aap, tum
            - Question words: kya, kaise, kahan, kab, kyun, kaun
            
            NEPALI INDICATORS (Romanized):
            - Key words: malai, ma, tapai, timi, garna, chahincha, chha, hun
            - Grammar: verb + chha/chhan (garna chha, chahincha)
            - Pronouns: malai, ma, tapai, timi
            - Question words: ke, kasari, kahaan, kahile, kina, ko
            
            ENGLISH INDICATORS:
            - Pure English vocabulary and grammar
            - No Hindi/Nepali words mixed in
            
            DECISION RULES:
            1. If text contains "mereko", "mujhe", "karna hain", "chahiye" ‚Üí HINDI
            2. If text contains "malai", "garna chha", "chahincha" ‚Üí NEPALI
            3. If text is pure English ‚Üí ENGLISH
            4. For mixed text, identify the dominant language based on grammar patterns
            
            Examples:
            - "Mereko ex gratia apply karna hain" ‚Üí HINDI (mereko + karna hain)
            - "Malai certificate apply garna chha" ‚Üí NEPALI (malai + garna chha)
            - "I want to apply for ex gratia" ‚Üí ENGLISH (pure English)
            
            Respond with EXACTLY one word: english, hindi, or nepali
2025-07-24 18:52:45,696 - __main__ - INFO - ü§ñ [LLM] Language Detection Response: english
2025-07-24 18:52:45,696 - __main__ - INFO - ‚úÖ Language detected by Qwen: english
2025-07-24 18:52:45,697 - __main__ - INFO - üåê LANGUAGE SET: User 5462740970 ‚Üí english
2025-07-24 18:52:45,698 - __main__ - INFO - [LANG] User 5462740970 language detected: english
2025-07-24 18:52:45,699 - __main__ - INFO - [INTENT] Processing new message: Hello
2025-07-24 18:52:45,700 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Hello
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:52:46,209 - __main__ - INFO - üéØ [LLM] Intent Classification Response: greeting
2025-07-24 18:52:46,210 - __main__ - INFO - [INTENT] Detected intent: greeting
2025-07-24 18:52:46,845 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:52:52,922 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:52:52,927 - __main__ - INFO - [CALLBACK] Received from 5462740970: lang_english
2025-07-24 18:52:53,817 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 18:52:53,818 - __main__ - INFO - üåê LANGUAGE SET: User 5462740970 ‚Üí english
2025-07-24 18:52:54,274 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 18:52:55,789 - __main__ - INFO - [USER] New conversation started by user 5462740970
2025-07-24 18:52:56,370 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 18:53:01,533 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:53:01,537 - __main__ - INFO - [CALLBACK] Received from 5462740970: disaster
2025-07-24 18:53:02,344 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 18:53:02,667 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 18:53:04,800 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:53:04,805 - __main__ - INFO - [CALLBACK] Received from 5462740970: ex_gratia
2025-07-24 18:53:05,163 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 18:53:05,516 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 18:53:08,910 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:53:08,916 - __main__ - INFO - [CALLBACK] Received from 5462740970: ex_gratia_start
2025-07-24 18:53:09,305 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 18:53:09,306 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'name'}
2025-07-24 18:53:09,679 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 18:53:12,409 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:53:12,413 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:53:12,417 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:53:12,420 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:53:12,420 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:53:12,422 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:53:12,422 - __main__ - INFO - [MSG] User 5462740970: Uuy
2025-07-24 18:53:12,424 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 18:53:12,427 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Uuy
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:53:14,889 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 18:53:14,891 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'father_name', 'data': {'name': 'Uuy'}}
2025-07-24 18:53:15,701 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:53:19,650 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:53:19,655 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:53:19,657 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:53:19,659 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:53:19,660 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:53:19,661 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:53:19,663 - __main__ - INFO - [MSG] User 5462740970: Yut
2025-07-24 18:53:19,663 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 18:53:19,666 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Yut
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:53:20,087 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 18:53:20,087 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'village', 'data': {'name': 'Uuy', 'father_name': 'Yut'}}
2025-07-24 18:53:20,464 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:53:28,863 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:53:28,866 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:53:28,867 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:53:28,868 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:53:28,870 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:53:28,874 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:53:28,875 - __main__ - INFO - [MSG] User 5462740970: Yurhhd
2025-07-24 18:53:28,877 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 18:53:28,880 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Yurhhd
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:53:29,482 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 18:53:29,482 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'contact', 'data': {'name': 'Uuy', 'father_name': 'Yut', 'village': 'Yurhhd'}}
2025-07-24 18:53:30,196 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:53:37,874 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:53:37,877 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:53:37,878 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:53:37,879 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:53:37,879 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:53:37,879 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:53:37,880 - __main__ - INFO - [MSG] User 5462740970: 8888888888
2025-07-24 18:53:37,883 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 18:53:37,884 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: 8888888888
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:53:38,287 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 18:53:38,289 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'voter_id', 'data': {'name': 'Uuy', 'father_name': 'Yut', 'village': 'Yurhhd', 'contact': '8888888888'}}
2025-07-24 18:53:39,106 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:53:41,871 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:53:41,875 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:53:41,877 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:53:41,880 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:53:41,880 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:53:41,881 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:53:41,882 - __main__ - INFO - [MSG] User 5462740970: 676
2025-07-24 18:53:41,886 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 18:53:41,888 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: 676
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:53:42,489 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 18:53:42,490 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'ward', 'data': {'name': 'Uuy', 'father_name': 'Yut', 'village': 'Yurhhd', 'contact': '8888888888', 'voter_id': '676'}}
2025-07-24 18:53:42,814 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:53:46,784 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:53:46,788 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:53:46,789 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:53:46,793 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:53:46,794 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:53:46,797 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:53:46,800 - __main__ - INFO - [MSG] User 5462740970: 687
2025-07-24 18:53:46,803 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 18:53:46,804 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: 687
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:53:47,280 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 18:53:47,281 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'gpu', 'data': {'name': 'Uuy', 'father_name': 'Yut', 'village': 'Yurhhd', 'contact': '8888888888', 'voter_id': '676', 'ward': '687'}}
2025-07-24 18:53:47,707 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:53:50,986 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:53:50,990 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:53:50,992 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:53:50,995 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:53:50,996 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:53:51,000 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:53:51,002 - __main__ - INFO - [MSG] User 5462740970: 686
2025-07-24 18:53:51,003 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 18:53:51,004 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: 686
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:53:51,474 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 18:53:51,474 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'district', 'data': {'name': 'Uuy', 'father_name': 'Yut', 'village': 'Yurhhd', 'contact': '8888888888', 'voter_id': '676', 'ward': '687', 'gpu': '686'}}
2025-07-24 18:53:51,868 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:53:54,873 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:53:54,878 - __main__ - INFO - [CALLBACK] Received from 5462740970: district_east
2025-07-24 18:53:55,284 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 18:53:55,287 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'khatiyan', 'data': {'name': 'Uuy', 'father_name': 'Yut', 'village': 'Yurhhd', 'contact': '8888888888', 'voter_id': '676', 'ward': '687', 'gpu': '686', 'district': 'East Sikkim'}}
2025-07-24 18:53:55,612 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 18:53:58,626 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:53:58,630 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:53:58,632 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:53:58,634 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:53:58,635 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:53:58,637 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:53:58,638 - __main__ - INFO - [MSG] User 5462740970: 675
2025-07-24 18:53:58,639 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 18:53:58,639 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: 675
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:53:59,081 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 18:53:59,083 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'plot', 'data': {'name': 'Uuy', 'father_name': 'Yut', 'village': 'Yurhhd', 'contact': '8888888888', 'voter_id': '676', 'ward': '687', 'gpu': '686', 'district': 'East Sikkim', 'khatiyan_no': '675'}}
2025-07-24 18:53:59,483 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:54:02,820 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:54:02,822 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:54:02,823 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:54:02,825 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:54:02,826 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:54:02,828 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:54:02,830 - __main__ - INFO - [MSG] User 5462740970: 56
2025-07-24 18:54:02,832 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 18:54:02,833 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: 56
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:54:03,253 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 18:54:03,254 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'nc_datetime', 'data': {'name': 'Uuy', 'father_name': 'Yut', 'village': 'Yurhhd', 'contact': '8888888888', 'voter_id': '676', 'ward': '687', 'gpu': '686', 'district': 'East Sikkim', 'khatiyan_no': '675', 'plot_no': '56'}}
2025-07-24 18:54:03,627 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:54:10,132 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:54:10,135 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:54:10,136 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:54:10,137 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:54:10,150 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:54:10,154 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:54:10,156 - __main__ - INFO - [MSG] User 5462740970: 12/2/2023
2025-07-24 18:54:10,158 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 18:54:10,158 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: 12/2/2023
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:54:10,672 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 18:54:11,360 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:54:20,380 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:54:30,554 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:54:40,705 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:54:44,949 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:54:44,952 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:54:44,953 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:54:44,954 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:54:44,955 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:54:44,956 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:54:44,956 - __main__ - INFO - [MSG] User 5462740970: 12/02/2023 12:30
2025-07-24 18:54:44,957 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 18:54:44,958 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: 12/02/2023 12:30
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:54:47,461 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 18:54:47,461 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'damage_type', 'data': {'name': 'Uuy', 'father_name': 'Yut', 'village': 'Yurhhd', 'contact': '8888888888', 'voter_id': '676', 'ward': '687', 'gpu': '686', 'district': 'East Sikkim', 'khatiyan_no': '675', 'plot_no': '56', 'nc_datetime': '2023-02-12T12:30:00'}}
2025-07-24 18:54:48,328 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:54:50,290 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:54:50,293 - __main__ - INFO - [CALLBACK] Received from 5462740970: damage_type_house
2025-07-24 18:54:50,624 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 18:54:50,625 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'damage_description', 'data': {'name': 'Uuy', 'father_name': 'Yut', 'village': 'Yurhhd', 'contact': '8888888888', 'voter_id': '676', 'ward': '687', 'gpu': '686', 'district': 'East Sikkim', 'khatiyan_no': '675', 'plot_no': '56', 'nc_datetime': '2023-02-12T12:30:00', 'damage_type': 'üè† House Damage'}}
2025-07-24 18:54:50,953 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 18:54:53,606 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:54:53,608 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:54:53,609 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:54:53,610 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:54:53,610 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:54:53,610 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:54:53,610 - __main__ - INFO - [MSG] User 5462740970: ;()6))
2025-07-24 18:54:53,612 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 18:54:53,612 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: ;()6))
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:54:54,054 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 18:54:54,054 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'location', 'data': {'name': 'Uuy', 'father_name': 'Yut', 'village': 'Yurhhd', 'contact': '8888888888', 'voter_id': '676', 'ward': '687', 'gpu': '686', 'district': 'East Sikkim', 'khatiyan_no': '675', 'plot_no': '56', 'nc_datetime': '2023-02-12T12:30:00', 'damage_type': 'üè† House Damage', 'damage_description': ';()6))'}}
2025-07-24 18:54:54,056 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'location_request', 'service_type': 'ex_gratia', 'stage': 'waiting_location'}
2025-07-24 18:54:54,469 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:54:56,688 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:54:56,690 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:54:56,690 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:54:56,692 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:54:56,692 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:54:56,693 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:54:56,693 - __main__ - INFO - [MSG] User 5462740970: ‚è≠Ô∏è Skip Location
2025-07-24 18:54:56,694 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'location_request', 'service_type': 'ex_gratia', 'stage': 'waiting_location', 'data': {'latitude': None, 'longitude': None, 'location_timestamp': None}}
2025-07-24 18:54:57,067 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:54:59,594 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:54:59,597 - __main__ - INFO - [CALLBACK] Received from 5462740970: ex_gratia_submit
2025-07-24 18:54:59,987 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 18:55:00,411 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 18:55:00,413 - nc_exgratia_api - INFO - üîê Authenticating with NC Exgratia API...
2025-07-24 18:55:04,424 - nc_exgratia_api - INFO - ‚úÖ Authentication successful
2025-07-24 18:55:04,425 - nc_exgratia_api - INFO - üìã Formatted API payload: {
  "applicant_name": "",
  "sodowo": "",
  "village": "",
  "ward": "",
  "gpu": "",
  "district": "SK",
  "land_khatian_number": "",
  "land_plot_nos": [],
  "ph_number": "",
  "voter_id": "",
  "damage_type": [
    "crop"
  ],
  "actual_nc_datetime": "2025-07-24T18:55:04.425361"
}
2025-07-24 18:55:04,426 - nc_exgratia_api - INFO - üì§ Submitting application for Unknown...
2025-07-24 18:55:04,860 - nc_exgratia_api - ERROR - ‚ùå Application submission failed: 500 - <!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>500 Internal Error</title>
</head><body>
<h1>Internal Error</h1>
<p>The server encountered an unexpected condition which
prevented it from fulfilling the request.</p>
</body></html>

2025-07-24 18:55:04,861 - __main__ - ERROR - ‚ùå NC Exgratia API submission failed: <!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>500 Internal Error</title>
</head><body>
<h1>Internal Error</h1>
<p>The server encountered an unexpected condition which
prevented it from fulfilling the request.</p>
</body></html>

2025-07-24 18:55:05,185 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 18:55:05,203 - __main__ - INFO - üßπ STATE CLEARED: User 5462740970
2025-07-24 18:55:09,831 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:55:15,071 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:55:15,073 - __main__ - INFO - [CALLBACK] Received from 5462740970: ex_gratia_submit
2025-07-24 18:55:15,768 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 18:55:16,179 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 18:55:16,181 - nc_exgratia_api - INFO - üìã Formatted API payload: {
  "applicant_name": "",
  "sodowo": "",
  "village": "",
  "ward": "",
  "gpu": "",
  "district": "SK",
  "land_khatian_number": "",
  "land_plot_nos": [],
  "ph_number": "",
  "voter_id": "",
  "damage_type": [
    "crop"
  ],
  "actual_nc_datetime": "2025-07-24T18:55:16.181084"
}
2025-07-24 18:55:16,181 - nc_exgratia_api - INFO - üì§ Submitting application for Unknown...
2025-07-24 18:55:16,498 - nc_exgratia_api - ERROR - ‚ùå Application submission failed: 500 - <!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>500 Internal Error</title>
</head><body>
<h1>Internal Error</h1>
<p>The server encountered an unexpected condition which
prevented it from fulfilling the request.</p>
</body></html>

2025-07-24 18:55:16,498 - __main__ - ERROR - ‚ùå NC Exgratia API submission failed: <!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>500 Internal Error</title>
</head><body>
<h1>Internal Error</h1>
<p>The server encountered an unexpected condition which
prevented it from fulfilling the request.</p>
</body></html>

2025-07-24 18:55:16,897 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 18:55:25,293 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:55:29,903 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:55:29,905 - __main__ - INFO - [CALLBACK] Received from 5462740970: ex_gratia_submit
2025-07-24 18:55:30,618 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 18:55:30,985 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 18:55:30,987 - nc_exgratia_api - INFO - üìã Formatted API payload: {
  "applicant_name": "",
  "sodowo": "",
  "village": "",
  "ward": "",
  "gpu": "",
  "district": "SK",
  "land_khatian_number": "",
  "land_plot_nos": [],
  "ph_number": "",
  "voter_id": "",
  "damage_type": [
    "crop"
  ],
  "actual_nc_datetime": "2025-07-24T18:55:30.987409"
}
2025-07-24 18:55:30,988 - nc_exgratia_api - INFO - üì§ Submitting application for Unknown...
2025-07-24 18:55:31,263 - nc_exgratia_api - ERROR - ‚ùå Application submission failed: 500 - <!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>500 Internal Error</title>
</head><body>
<h1>Internal Error</h1>
<p>The server encountered an unexpected condition which
prevented it from fulfilling the request.</p>
</body></html>

2025-07-24 18:55:31,263 - __main__ - ERROR - ‚ùå NC Exgratia API submission failed: <!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>500 Internal Error</title>
</head><body>
<h1>Internal Error</h1>
<p>The server encountered an unexpected condition which
prevented it from fulfilling the request.</p>
</body></html>

2025-07-24 18:55:31,597 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 18:55:40,144 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:55:50,288 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:56:00,518 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:56:10,659 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:56:20,847 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:56:30,993 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:56:57,203 - __main__ - INFO - üìö Data files from Excel sheet loaded successfully
2025-07-24 18:56:57,204 - __main__ - WARNING - ‚ö†Ô∏è Google Sheets integration disabled or credentials file not configured
2025-07-24 18:56:57,204 - __main__ - INFO - üîó NC Exgratia API client initialized
2025-07-24 18:56:57,205 - __main__ - INFO - üîí MULTI-USER SUPPORT: Thread-safe state management initialized
2025-07-24 18:56:57,806 - __main__ - INFO - üöÄ Starting Enhanced SmartGov Assistant Bot...
2025-07-24 18:56:58,444 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getMe "HTTP/1.1 200 OK"
2025-07-24 18:56:58,585 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/deleteWebhook "HTTP/1.1 200 OK"
2025-07-24 18:56:58,586 - telegram.ext.Application - INFO - Application started
2025-07-24 18:57:09,236 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:57:19,378 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:57:29,605 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:57:39,847 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:57:49,992 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:58:00,131 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:58:17,220 - __main__ - INFO - üìö Data files from Excel sheet loaded successfully
2025-07-24 18:58:17,220 - __main__ - WARNING - ‚ö†Ô∏è Google Sheets integration disabled or credentials file not configured
2025-07-24 18:58:17,220 - __main__ - INFO - üîó NC Exgratia API client initialized
2025-07-24 18:58:17,221 - __main__ - INFO - üîí MULTI-USER SUPPORT: Thread-safe state management initialized
2025-07-24 18:58:17,803 - __main__ - INFO - üöÄ Starting Enhanced SmartGov Assistant Bot...
2025-07-24 18:58:18,455 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getMe "HTTP/1.1 200 OK"
2025-07-24 18:58:18,656 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/deleteWebhook "HTTP/1.1 200 OK"
2025-07-24 18:58:18,659 - telegram.ext.Application - INFO - Application started
2025-07-24 18:58:29,203 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:58:39,352 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:58:49,580 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:58:55,319 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:58:55,322 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:58:55,323 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:58:55,324 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:58:55,324 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:58:55,324 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:58:55,325 - __main__ - INFO - [MSG] User 1386784732: Hi
2025-07-24 18:58:55,325 - __main__ - INFO - üîç [LLM] Language Detection Prompt: Analyze this text and determine if it's English, Hindi, or Nepali.
            
            Text to analyze: "Hi"
            
            CRITICAL DETECTION RULES:
            
            HINDI INDICATORS (Romanized):
            - Key words: mereko, mujhe, main, aap, tum, karna, chahiye, hai, hain
            - Grammar: verb + hain/hai (karna hain, chahiye hai)
            - Pronouns: mereko, mujhe, main, aap, tum
            - Question words: kya, kaise, kahan, kab, kyun, kaun
            
            NEPALI INDICATORS (Romanized):
            - Key words: malai, ma, tapai, timi, garna, chahincha, chha, hun
            - Grammar: verb + chha/chhan (garna chha, chahincha)
            - Pronouns: malai, ma, tapai, timi
            - Question words: ke, kasari, kahaan, kahile, kina, ko
            
            ENGLISH INDICATORS:
            - Pure English vocabulary and grammar
            - No Hindi/Nepali words mixed in
            
            DECISION RULES:
            1. If text contains "mereko", "mujhe", "karna hain", "chahiye" ‚Üí HINDI
            2. If text contains "malai", "garna chha", "chahincha" ‚Üí NEPALI
            3. If text is pure English ‚Üí ENGLISH
            4. For mixed text, identify the dominant language based on grammar patterns
            
            Examples:
            - "Mereko ex gratia apply karna hain" ‚Üí HINDI (mereko + karna hain)
            - "Malai certificate apply garna chha" ‚Üí NEPALI (malai + garna chha)
            - "I want to apply for ex gratia" ‚Üí ENGLISH (pure English)
            
            Respond with EXACTLY one word: english, hindi, or nepali
2025-07-24 18:58:57,978 - __main__ - INFO - ü§ñ [LLM] Language Detection Response: english
2025-07-24 18:58:57,979 - __main__ - INFO - ‚úÖ Language detected by Qwen: english
2025-07-24 18:58:57,979 - __main__ - INFO - üåê LANGUAGE SET: User 1386784732 ‚Üí english
2025-07-24 18:58:57,979 - __main__ - INFO - [LANG] User 1386784732 language detected: english
2025-07-24 18:58:57,980 - __main__ - INFO - [INTENT] Processing new message: Hi
2025-07-24 18:58:57,980 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Hi
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:58:58,440 - __main__ - INFO - üéØ [LLM] Intent Classification Response: greeting
2025-07-24 18:58:58,440 - __main__ - INFO - [INTENT] Detected intent: greeting
2025-07-24 18:58:59,208 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:59:01,460 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:59:01,464 - __main__ - INFO - [CALLBACK] Received from 1386784732: lang_english
2025-07-24 18:59:01,868 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 18:59:01,870 - __main__ - INFO - üåê LANGUAGE SET: User 1386784732 ‚Üí english
2025-07-24 18:59:02,279 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 18:59:03,789 - __main__ - INFO - [USER] New conversation started by user 1386784732
2025-07-24 18:59:04,197 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 18:59:11,603 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:59:12,726 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:59:12,730 - __main__ - INFO - [CALLBACK] Received from 1386784732: complaint
2025-07-24 18:59:13,543 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 18:59:13,545 - __main__ - INFO - üîí STATE UPDATE: User 1386784732 ‚Üí {'workflow': 'complaint', 'step': 'name'}
2025-07-24 18:59:13,875 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 18:59:20,812 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:59:20,814 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:59:20,815 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:59:20,816 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:59:20,816 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:59:20,816 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:59:20,817 - __main__ - INFO - [MSG] User 1386784732: Ravvi
2025-07-24 18:59:20,817 - __main__ - INFO - [LANG] User 1386784732 using existing language: english
2025-07-24 18:59:20,817 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Ravvi
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:59:23,358 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 18:59:23,358 - __main__ - INFO - üîí STATE UPDATE: User 1386784732 ‚Üí {'workflow': 'complaint', 'step': 'mobile', 'telegram_username': '.', 'entered_name': 'Ravvi', 'name': 'Ravvi (@.)'}
2025-07-24 18:59:24,089 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:59:29,620 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:59:29,622 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:59:29,622 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:59:29,623 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:59:29,623 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:59:29,624 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:59:29,624 - __main__ - INFO - [MSG] User 1386784732: 6202210899
2025-07-24 18:59:29,624 - __main__ - INFO - [LANG] User 1386784732 using existing language: english
2025-07-24 18:59:29,624 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: 6202210899
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:59:30,169 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 18:59:30,169 - __main__ - INFO - üîí STATE UPDATE: User 1386784732 ‚Üí {'workflow': 'complaint', 'step': 'complaint', 'telegram_username': '.', 'entered_name': 'Ravvi', 'name': 'Ravvi (@.)', 'mobile': '6202210899'}
2025-07-24 18:59:30,950 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:59:36,483 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:59:36,486 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 18:59:36,486 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 18:59:36,487 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 18:59:36,487 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 18:59:36,488 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 18:59:36,488 - __main__ - INFO - [MSG] User 1386784732: No just test
2025-07-24 18:59:36,490 - __main__ - INFO - [LANG] User 1386784732 using existing language: english
2025-07-24 18:59:36,491 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: No just test
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 18:59:36,961 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 18:59:36,962 - __main__ - INFO - üîí STATE UPDATE: User 1386784732 ‚Üí {'workflow': 'complaint', 'step': 'location', 'telegram_username': '.', 'entered_name': 'Ravvi', 'name': 'Ravvi (@.)', 'mobile': '6202210899', 'complaint_description': 'No just test'}
2025-07-24 18:59:36,962 - __main__ - INFO - üîí STATE UPDATE: User 1386784732 ‚Üí {'workflow': 'location_request', 'service_type': 'complaint', 'stage': 'waiting_location'}
2025-07-24 18:59:37,782 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 18:59:43,241 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 18:59:53,480 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:00:03,637 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:00:13,856 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:00:24,099 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:00:34,339 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:00:44,478 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:00:54,715 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:01:04,864 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:01:15,004 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:01:25,230 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:01:35,470 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:01:45,613 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:01:55,755 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:02:05,953 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:02:16,112 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:02:26,256 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:02:36,399 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:02:46,543 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:02:56,687 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:03:06,828 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:03:16,975 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:03:27,115 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:03:37,258 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:03:47,398 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:03:57,539 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:04:07,723 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:04:17,868 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:04:28,027 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:04:38,167 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:04:48,341 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:04:58,482 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:05:08,622 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:05:18,774 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:05:28,914 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:05:39,055 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:05:49,197 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:05:59,344 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:06:09,486 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:06:19,627 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:06:29,769 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:06:39,913 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:06:50,054 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:07:00,198 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:07:10,346 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:07:20,488 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:07:30,635 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:07:40,795 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:07:50,973 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:08:01,212 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:08:11,357 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:08:21,592 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:08:31,756 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:08:41,910 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:08:52,107 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:09:02,251 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:09:12,397 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:09:22,540 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:09:40,787 - __main__ - INFO - üìö Data files from Excel sheet loaded successfully
2025-07-24 19:09:40,788 - __main__ - WARNING - ‚ö†Ô∏è Google Sheets integration disabled or credentials file not configured
2025-07-24 19:09:40,788 - __main__ - INFO - üîó NC Exgratia API client initialized
2025-07-24 19:09:40,789 - __main__ - INFO - üîí MULTI-USER SUPPORT: Thread-safe state management initialized
2025-07-24 19:09:41,750 - __main__ - INFO - üöÄ Starting Enhanced SmartGov Assistant Bot...
2025-07-24 19:09:42,324 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getMe "HTTP/1.1 200 OK"
2025-07-24 19:09:42,485 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/deleteWebhook "HTTP/1.1 200 OK"
2025-07-24 19:09:42,487 - telegram.ext.Application - INFO - Application started
2025-07-24 19:09:52,939 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:10:03,180 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:10:13,326 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:10:23,478 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:10:33,685 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:10:43,839 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:10:54,064 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:11:04,210 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:11:14,443 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:11:24,680 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:11:34,824 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:11:45,058 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:11:51,678 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:11:51,681 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 19:11:51,682 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 19:11:51,683 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 19:11:51,684 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 19:11:51,684 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 19:11:51,685 - __main__ - INFO - [MSG] User 5462740970: Hello
2025-07-24 19:11:51,685 - __main__ - INFO - üîç [LLM] Language Detection Prompt: Analyze this text and determine if it's English, Hindi, or Nepali.
            
            Text to analyze: "Hello"
            
            CRITICAL DETECTION RULES:
            
            HINDI INDICATORS (Romanized):
            - Key words: mereko, mujhe, main, aap, tum, karna, chahiye, hai, hain
            - Grammar: verb + hain/hai (karna hain, chahiye hai)
            - Pronouns: mereko, mujhe, main, aap, tum
            - Question words: kya, kaise, kahan, kab, kyun, kaun
            
            NEPALI INDICATORS (Romanized):
            - Key words: malai, ma, tapai, timi, garna, chahincha, chha, hun
            - Grammar: verb + chha/chhan (garna chha, chahincha)
            - Pronouns: malai, ma, tapai, timi
            - Question words: ke, kasari, kahaan, kahile, kina, ko
            
            ENGLISH INDICATORS:
            - Pure English vocabulary and grammar
            - No Hindi/Nepali words mixed in
            
            DECISION RULES:
            1. If text contains "mereko", "mujhe", "karna hain", "chahiye" ‚Üí HINDI
            2. If text contains "malai", "garna chha", "chahincha" ‚Üí NEPALI
            3. If text is pure English ‚Üí ENGLISH
            4. For mixed text, identify the dominant language based on grammar patterns
            
            Examples:
            - "Mereko ex gratia apply karna hain" ‚Üí HINDI (mereko + karna hain)
            - "Malai certificate apply garna chha" ‚Üí NEPALI (malai + garna chha)
            - "I want to apply for ex gratia" ‚Üí ENGLISH (pure English)
            
            Respond with EXACTLY one word: english, hindi, or nepali
2025-07-24 19:11:57,003 - __main__ - INFO - ü§ñ [LLM] Language Detection Response: english
2025-07-24 19:11:57,003 - __main__ - INFO - ‚úÖ Language detected by Qwen: english
2025-07-24 19:11:57,003 - __main__ - INFO - üåê LANGUAGE SET: User 5462740970 ‚Üí english
2025-07-24 19:11:57,004 - __main__ - INFO - [LANG] User 5462740970 language detected: english
2025-07-24 19:11:57,004 - __main__ - INFO - [INTENT] Processing new message: Hello
2025-07-24 19:11:57,004 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Hello
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 19:11:57,404 - __main__ - INFO - üéØ [LLM] Intent Classification Response: greeting
2025-07-24 19:11:57,405 - __main__ - INFO - [INTENT] Detected intent: greeting
2025-07-24 19:11:58,126 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 19:12:00,920 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:12:00,924 - __main__ - INFO - [CALLBACK] Received from 5462740970: lang_english
2025-07-24 19:12:01,236 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 19:12:01,237 - __main__ - INFO - üåê LANGUAGE SET: User 5462740970 ‚Üí english
2025-07-24 19:12:01,655 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 19:12:03,160 - __main__ - INFO - [USER] New conversation started by user 5462740970
2025-07-24 19:12:03,498 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 19:12:11,071 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:12:19,032 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:12:19,034 - __main__ - INFO - [CALLBACK] Received from 5462740970: disaster
2025-07-24 19:12:19,649 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 19:12:19,978 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 19:12:24,656 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:12:24,657 - __main__ - INFO - [CALLBACK] Received from 5462740970: ex_gratia
2025-07-24 19:12:24,976 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 19:12:25,405 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 19:12:28,069 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:12:28,071 - __main__ - INFO - [CALLBACK] Received from 5462740970: ex_gratia_start
2025-07-24 19:12:28,385 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 19:12:28,388 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'name'}
2025-07-24 19:12:28,783 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 19:12:30,524 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:12:30,526 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 19:12:30,527 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 19:12:30,529 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 19:12:30,529 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 19:12:30,529 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 19:12:30,530 - __main__ - INFO - [MSG] User 5462740970: Thend
2025-07-24 19:12:30,530 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 19:12:30,531 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Thend
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 19:12:33,101 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 19:12:33,102 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'father_name', 'data': {'name': 'Thend'}}
2025-07-24 19:12:33,441 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 19:12:36,052 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:12:36,055 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 19:12:36,056 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 19:12:36,057 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 19:12:36,057 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 19:12:36,058 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 19:12:36,058 - __main__ - INFO - [MSG] User 5462740970: Thehd
2025-07-24 19:12:36,059 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 19:12:36,060 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Thehd
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 19:12:36,482 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 19:12:36,482 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'village', 'data': {'name': 'Thend', 'father_name': 'Thehd'}}
2025-07-24 19:12:36,873 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 19:12:39,984 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:12:39,986 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 19:12:39,987 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 19:12:39,988 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 19:12:39,988 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 19:12:39,988 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 19:12:39,989 - __main__ - INFO - [MSG] User 5462740970: Yhdhdthd
2025-07-24 19:12:39,989 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 19:12:39,990 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Yhdhdthd
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 19:12:40,468 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 19:12:40,469 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'contact', 'data': {'name': 'Thend', 'father_name': 'Thehd', 'village': 'Yhdhdthd'}}
2025-07-24 19:12:40,798 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 19:12:50,132 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:12:54,668 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:12:54,671 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 19:12:54,671 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 19:12:54,672 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 19:12:54,672 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 19:12:54,673 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 19:12:54,673 - __main__ - INFO - [MSG] User 5462740970: 9999999999
2025-07-24 19:12:54,673 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 19:12:54,674 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: 9999999999
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 19:12:55,104 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 19:12:55,104 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'voter_id', 'data': {'name': 'Thend', 'father_name': 'Thehd', 'village': 'Yhdhdthd', 'contact': '9999999999'}}
2025-07-24 19:12:55,818 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 19:13:02,535 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:13:02,540 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 19:13:02,543 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 19:13:02,544 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 19:13:02,545 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 19:13:02,546 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 19:13:02,547 - __main__ - INFO - [MSG] User 5462740970: 877
2025-07-24 19:13:02,549 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 19:13:02,552 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: 877
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 19:13:03,088 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 19:13:03,088 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'ward', 'data': {'name': 'Thend', 'father_name': 'Thehd', 'village': 'Yhdhdthd', 'contact': '9999999999', 'voter_id': '877'}}
2025-07-24 19:13:03,785 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 19:13:09,744 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:13:09,747 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 19:13:09,747 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 19:13:09,752 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 19:13:09,753 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 19:13:09,755 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 19:13:09,756 - __main__ - INFO - [MSG] User 5462740970: 7678
2025-07-24 19:13:09,757 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 19:13:09,757 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: 7678
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 19:13:10,288 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 19:13:10,288 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'gpu', 'data': {'name': 'Thend', 'father_name': 'Thehd', 'village': 'Yhdhdthd', 'contact': '9999999999', 'voter_id': '877', 'ward': '7678'}}
2025-07-24 19:13:11,078 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 19:13:14,835 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:13:14,837 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 19:13:14,838 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 19:13:14,840 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 19:13:14,843 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 19:13:14,845 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 19:13:14,846 - __main__ - INFO - [MSG] User 5462740970: 676
2025-07-24 19:13:14,846 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 19:13:14,848 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: 676
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 19:13:15,293 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 19:13:15,295 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'district', 'data': {'name': 'Thend', 'father_name': 'Thehd', 'village': 'Yhdhdthd', 'contact': '9999999999', 'voter_id': '877', 'ward': '7678', 'gpu': '676'}}
2025-07-24 19:13:15,684 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 19:13:21,315 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:13:21,320 - __main__ - INFO - [CALLBACK] Received from 5462740970: district_north
2025-07-24 19:13:22,134 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 19:13:22,138 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'khatiyan', 'data': {'name': 'Thend', 'father_name': 'Thehd', 'village': 'Yhdhdthd', 'contact': '9999999999', 'voter_id': '877', 'ward': '7678', 'gpu': '676', 'district': 'North Sikkim'}}
2025-07-24 19:13:22,527 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 19:13:25,206 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:13:25,210 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 19:13:25,214 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 19:13:25,216 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 19:13:25,217 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 19:13:25,218 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 19:13:25,219 - __main__ - INFO - [MSG] User 5462740970: 6757
2025-07-24 19:13:25,223 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 19:13:25,223 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: 6757
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 19:13:25,691 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 19:13:25,691 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'plot', 'data': {'name': 'Thend', 'father_name': 'Thehd', 'village': 'Yhdhdthd', 'contact': '9999999999', 'voter_id': '877', 'ward': '7678', 'gpu': '676', 'district': 'North Sikkim', 'khatiyan_no': '6757'}}
2025-07-24 19:13:26,130 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 19:13:35,375 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:13:36,613 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:13:36,616 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 19:13:36,616 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 19:13:36,617 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 19:13:36,618 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 19:13:36,618 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 19:13:36,618 - __main__ - INFO - [MSG] User 5462740970: 67
2025-07-24 19:13:36,619 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 19:13:36,620 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: 67
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 19:13:37,090 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 19:13:37,093 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'nc_datetime', 'data': {'name': 'Thend', 'father_name': 'Thehd', 'village': 'Yhdhdthd', 'contact': '9999999999', 'voter_id': '877', 'ward': '7678', 'gpu': '676', 'district': 'North Sikkim', 'khatiyan_no': '6757', 'plot_no': '67'}}
2025-07-24 19:13:37,839 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 19:13:46,783 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:13:48,441 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:13:48,445 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 19:13:48,447 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 19:13:48,449 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 19:13:48,450 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 19:13:48,452 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 19:13:48,452 - __main__ - INFO - [MSG] User 5462740970: 12/03/2024 4:30
2025-07-24 19:13:48,453 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 19:13:48,454 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: 12/03/2024 4:30
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 19:13:48,888 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 19:13:48,889 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'damage_type', 'data': {'name': 'Thend', 'father_name': 'Thehd', 'village': 'Yhdhdthd', 'contact': '9999999999', 'voter_id': '877', 'ward': '7678', 'gpu': '676', 'district': 'North Sikkim', 'khatiyan_no': '6757', 'plot_no': '67', 'nc_datetime': '2024-03-12T04:30:00'}}
2025-07-24 19:13:49,484 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 19:13:58,691 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:13:59,306 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:13:59,311 - __main__ - INFO - [CALLBACK] Received from 5462740970: damage_type_house
2025-07-24 19:14:00,021 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/answerCallbackQuery "HTTP/1.1 200 OK"
2025-07-24 19:14:00,023 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'damage_description', 'data': {'name': 'Thend', 'father_name': 'Thehd', 'village': 'Yhdhdthd', 'contact': '9999999999', 'voter_id': '877', 'ward': '7678', 'gpu': '676', 'district': 'North Sikkim', 'khatiyan_no': '6757', 'plot_no': '67', 'nc_datetime': '2024-03-12T04:30:00', 'damage_type': 'üè† House Damage'}}
2025-07-24 19:14:00,433 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/editMessageText "HTTP/1.1 200 OK"
2025-07-24 19:14:04,630 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:14:04,636 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 19:14:04,647 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 19:14:04,648 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 19:14:04,648 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 19:14:04,649 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 19:14:04,650 - __main__ - INFO - [MSG] User 5462740970: Yrugdhhfjfnf
2025-07-24 19:14:04,655 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 19:14:04,657 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Yrugdhhfjfnf
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 19:14:07,269 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 19:14:07,270 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'ex_gratia', 'step': 'location', 'data': {'name': 'Thend', 'father_name': 'Thehd', 'village': 'Yhdhdthd', 'contact': '9999999999', 'voter_id': '877', 'ward': '7678', 'gpu': '676', 'district': 'North Sikkim', 'khatiyan_no': '6757', 'plot_no': '67', 'nc_datetime': '2024-03-12T04:30:00', 'damage_type': 'üè† House Damage', 'damage_description': 'Yrugdhhfjfnf'}}
2025-07-24 19:14:07,270 - __main__ - INFO - üîí [LOCATION] Preserved application data: ['name', 'father_name', 'village', 'contact', 'voter_id', 'ward', 'gpu', 'district', 'khatiyan_no', 'plot_no', 'nc_datetime', 'damage_type', 'damage_description']
2025-07-24 19:14:07,270 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'location_request', 'service_type': 'ex_gratia', 'stage': 'waiting_location', 'data': {'name': 'Thend', 'father_name': 'Thehd', 'village': 'Yhdhdthd', 'contact': '9999999999', 'voter_id': '877', 'ward': '7678', 'gpu': '676', 'district': 'North Sikkim', 'khatiyan_no': '6757', 'plot_no': '67', 'nc_datetime': '2024-03-12T04:30:00', 'damage_type': 'üè† House Damage', 'damage_description': 'Yrugdhhfjfnf'}}
2025-07-24 19:14:08,113 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 19:14:13,026 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:14:23,267 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:14:33,416 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:14:39,754 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:14:39,756 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 19:14:39,756 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 19:14:39,757 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 19:14:39,758 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 19:14:39,758 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 19:14:39,758 - __main__ - INFO - [MSG] User 5462740970: üìù Type Location Name
2025-07-24 19:14:39,759 - __main__ - INFO - üîí STATE UPDATE: User 5462740970 ‚Üí {'workflow': 'manual_location_name', 'service_type': 'ex_gratia', 'stage': 'waiting_location', 'data': {'name': 'Thend', 'father_name': 'Thehd', 'village': 'Yhdhdthd', 'contact': '9999999999', 'voter_id': '877', 'ward': '7678', 'gpu': '676', 'district': 'North Sikkim', 'khatiyan_no': '6757', 'plot_no': '67', 'nc_datetime': '2024-03-12T04:30:00', 'damage_type': 'üè† House Damage', 'damage_description': 'Yrugdhhfjfnf'}, 'step': 'location_name'}
2025-07-24 19:14:40,572 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 19:14:45,590 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:14:45,593 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 19:14:45,594 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 19:14:45,595 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 19:14:45,595 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 19:14:45,595 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 19:14:45,596 - __main__ - INFO - [MSG] User 5462740970: Gangtok
2025-07-24 19:14:45,596 - __main__ - INFO - [LANG] User 5462740970 using existing language: english
2025-07-24 19:14:45,597 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Gangtok
Language: english

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 19:14:48,063 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 19:14:48,063 - __main__ - INFO - üßπ STATE CLEARED: User 5462740970
2025-07-24 19:14:55,832 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:15:05,977 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:15:16,124 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:15:26,266 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:15:36,485 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:15:46,630 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:15:47,951 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:15:47,955 - __main__ - INFO - üìç [DEBUG] Message type: <class 'telegram._message.Message'>
2025-07-24 19:15:47,955 - __main__ - INFO - üìç [DEBUG] Message attributes: ['_TelegramObject__INIT_PARAMS', '_TelegramObject__INIT_PARAMS_CHECK', '__annotations__', '__class__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '_apply_api_kwargs', '_bot', '_de_json', '_effective_attachment', '_freeze', '_frozen', '_get_attrs', '_get_attrs_names', '_id_attrs', '_parse_data', '_parse_html', '_parse_markdown', '_quote', '_unfreeze', '_unfrozen', 'animation', 'api_kwargs', 'audio', 'author_signature', 'caption', 'caption_entities', 'caption_html', 'caption_html_urled', 'caption_markdown', 'caption_markdown_urled', 'caption_markdown_v2', 'caption_markdown_v2_urled', 'channel_chat_created', 'chat', 'chat_id', 'chat_shared', 'close_forum_topic', 'connected_website', 'contact', 'copy', 'date', 'de_json', 'de_list', 'delete', 'delete_chat_photo', 'delete_forum_topic', 'dice', 'document', 'edit_caption', 'edit_date', 'edit_forum_topic', 'edit_live_location', 'edit_media', 'edit_reply_markup', 'edit_text', 'effective_attachment', 'entities', 'forum_topic_closed', 'forum_topic_created', 'forum_topic_edited', 'forum_topic_reopened', 'forward', 'forward_date', 'forward_from', 'forward_from_chat', 'forward_from_message_id', 'forward_sender_name', 'forward_signature', 'from_user', 'game', 'general_forum_topic_hidden', 'general_forum_topic_unhidden', 'get_bot', 'get_game_high_scores', 'group_chat_created', 'has_media_spoiler', 'has_protected_content', 'id', 'invoice', 'is_automatic_forward', 'is_topic_message', 'left_chat_member', 'link', 'location', 'media_group_id', 'message_auto_delete_timer_changed', 'message_id', 'message_thread_id', 'migrate_from_chat_id', 'migrate_to_chat_id', 'new_chat_members', 'new_chat_photo', 'new_chat_title', 'parse_caption_entities', 'parse_caption_entity', 'parse_entities', 'parse_entity', 'passport_data', 'photo', 'pin', 'pinned_message', 'poll', 'proximity_alert_triggered', 'reopen_forum_topic', 'reply_animation', 'reply_audio', 'reply_chat_action', 'reply_contact', 'reply_copy', 'reply_dice', 'reply_document', 'reply_game', 'reply_html', 'reply_invoice', 'reply_location', 'reply_markdown', 'reply_markdown_v2', 'reply_markup', 'reply_media_group', 'reply_photo', 'reply_poll', 'reply_sticker', 'reply_text', 'reply_to_message', 'reply_venue', 'reply_video', 'reply_video_note', 'reply_voice', 'sender_chat', 'set_bot', 'set_game_score', 'sticker', 'stop_live_location', 'stop_poll', 'story', 'successful_payment', 'supergroup_chat_created', 'text', 'text_html', 'text_html_urled', 'text_markdown', 'text_markdown_urled', 'text_markdown_v2', 'text_markdown_v2_urled', 'to_dict', 'to_json', 'unpin', 'unpin_all_forum_topic_messages', 'user_shared', 'venue', 'via_bot', 'video', 'video_chat_ended', 'video_chat_participants_invited', 'video_chat_scheduled', 'video_chat_started', 'video_note', 'voice', 'web_app_data', 'write_access_allowed']
2025-07-24 19:15:47,956 - __main__ - INFO - üìç [DEBUG] Has location: True
2025-07-24 19:15:47,956 - __main__ - INFO - üìç [DEBUG] Has text: True
2025-07-24 19:15:47,957 - __main__ - INFO - üìç [DEBUG] Location value: None
2025-07-24 19:15:47,957 - __main__ - INFO - [MSG] User 5462740970: Lachen
2025-07-24 19:15:47,958 - __main__ - INFO - üîç [LLM] Language Detection Prompt: Analyze this text and determine if it's English, Hindi, or Nepali.
            
            Text to analyze: "Lachen"
            
            CRITICAL DETECTION RULES:
            
            HINDI INDICATORS (Romanized):
            - Key words: mereko, mujhe, main, aap, tum, karna, chahiye, hai, hain
            - Grammar: verb + hain/hai (karna hain, chahiye hai)
            - Pronouns: mereko, mujhe, main, aap, tum
            - Question words: kya, kaise, kahan, kab, kyun, kaun
            
            NEPALI INDICATORS (Romanized):
            - Key words: malai, ma, tapai, timi, garna, chahincha, chha, hun
            - Grammar: verb + chha/chhan (garna chha, chahincha)
            - Pronouns: malai, ma, tapai, timi
            - Question words: ke, kasari, kahaan, kahile, kina, ko
            
            ENGLISH INDICATORS:
            - Pure English vocabulary and grammar
            - No Hindi/Nepali words mixed in
            
            DECISION RULES:
            1. If text contains "mereko", "mujhe", "karna hain", "chahiye" ‚Üí HINDI
            2. If text contains "malai", "garna chha", "chahincha" ‚Üí NEPALI
            3. If text is pure English ‚Üí ENGLISH
            4. For mixed text, identify the dominant language based on grammar patterns
            
            Examples:
            - "Mereko ex gratia apply karna hain" ‚Üí HINDI (mereko + karna hain)
            - "Malai certificate apply garna chha" ‚Üí NEPALI (malai + garna chha)
            - "I want to apply for ex gratia" ‚Üí ENGLISH (pure English)
            
            Respond with EXACTLY one word: english, hindi, or nepali
2025-07-24 19:15:50,669 - __main__ - INFO - ü§ñ [LLM] Language Detection Response: nepali
2025-07-24 19:15:50,670 - __main__ - INFO - ‚úÖ Language detected by Qwen: nepali
2025-07-24 19:15:50,670 - __main__ - INFO - üåê LANGUAGE SET: User 5462740970 ‚Üí nepali
2025-07-24 19:15:50,670 - __main__ - INFO - [LANG] User 5462740970 language detected: nepali
2025-07-24 19:15:50,671 - __main__ - INFO - [INTENT] Processing new message: Lachen
2025-07-24 19:15:50,671 - __main__ - INFO - üéØ [LLM] Intent Classification Prompt: You are an intent classifier for SmartGov Assistant, a government services chatbot in Sikkim. Given the user's message, classify it into one of these intents:

Available intents:
- greeting: User is saying hello, hi, namaste, or starting a conversation (hello, hi, namaste, good morning, etc.)
- ex_gratia: User wants to APPLY for ex-gratia assistance (action-oriented)
- check_status: User wants to check status of their application
- relief_norms: User asks about relief norms, policies, eligibility criteria, or general questions about ex-gratia
- emergency: User needs emergency help (ambulance, police, fire)
- tourism: User wants tourism/homestay services
- complaint: User wants to file a complaint
- certificate: User wants to apply for certificates
- csc: User wants CSC (Common Service Center) services
- cancel: User wants to cancel, stop, go back, or return to main menu (cancel, stop, quit, exit, back, home, band karo, ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã)
- unknown: If none of the above match

Example messages for each intent:
- greeting: "Hello", "Hi", "Namaste", "Good morning", "Namaskar", "Kya haal hai", "K cha", "How are you"
- ex_gratia: "I want to apply for compensation", "Apply for ex gratia", "I need to file ex-gratia claim", "Start ex-gratia application"
- relief_norms: "What is ex gratia?", "How much compensation will I get?", "What are the eligibility criteria?", "Kya mujhe ex gratia milega?", "Ex gratia kya hain?"
- check_status: "What's the status of my application?", "Track my ex-gratia request", "Any update on my claim?"
- emergency: "Need ambulance", "Call police", "Fire emergency"
- tourism: "Book homestay", "Tourist places", "Accommodation"
- complaint: "File complaint", "Register grievance", "Report issue"
- certificate: "Apply for certificate", "Birth certificate", "Document"
- csc: "Find CSC", "CSC operator", "Common Service Center"

User message: Lachen
Language: nepali

Respond with ONLY one of the intent names listed above, nothing else.
2025-07-24 19:15:51,095 - __main__ - INFO - üéØ [LLM] Intent Classification Response: unknown
2025-07-24 19:15:51,095 - __main__ - INFO - [INTENT] Detected intent: unknown
2025-07-24 19:15:51,095 - __main__ - INFO - [USER] New conversation started by user 5462740970
2025-07-24 19:15:51,873 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/sendMessage "HTTP/1.1 200 OK"
2025-07-24 19:15:58,194 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:16:08,342 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:16:18,503 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:16:28,709 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:16:38,856 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:16:49,000 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:16:59,150 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:17:09,299 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:17:19,497 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:17:29,643 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:17:39,786 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:19:01,924 - __main__ - INFO - üìö Data files from Excel sheet loaded successfully
2025-07-24 19:19:01,925 - __main__ - WARNING - ‚ö†Ô∏è Google Sheets integration disabled or credentials file not configured
2025-07-24 19:19:01,925 - __main__ - INFO - üîó NC Exgratia API client initialized
2025-07-24 19:19:01,926 - __main__ - INFO - üîí MULTI-USER SUPPORT: Thread-safe state management initialized
2025-07-24 19:19:02,834 - __main__ - INFO - üöÄ Starting Enhanced SmartGov Assistant Bot...
2025-07-24 19:19:03,334 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getMe "HTTP/1.1 200 OK"
2025-07-24 19:19:03,473 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/deleteWebhook "HTTP/1.1 200 OK"
2025-07-24 19:19:03,477 - telegram.ext.Application - INFO - Application started
2025-07-24 19:19:13,933 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:19:24,086 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:19:34,258 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:19:44,410 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:19:54,570 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:20:04,772 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:20:14,926 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
2025-07-24 19:20:25,079 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7641958089:AAH2UW5H0EX9pGfE6wZZaURCpkyMHtJK8zw/getUpdates "HTTP/1.1 200 OK"
